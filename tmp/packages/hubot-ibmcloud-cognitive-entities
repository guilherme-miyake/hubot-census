{"_id":"hubot-ibmcloud-cognitive-entities","_rev":"2-6532fd84e0b2f523bee9398531429168","name":"hubot-ibmcloud-cognitive-entities","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","dist-tags":{"latest":"0.0.8"},"versions":{"0.0.2":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.2","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","hubot-ibmcloud-cognitive-lib":">=0.0.37","hubot-ibmcloud-utils":">=0.0.8","hubot-conversation":"^1.1.1","i18n-2":"^0.6.3","lodash":"^4.13.1","pos":"^0.3.0","string-length":"^1.0.1","watson-developer-cloud":"^1.9.4"},"gitHead":"ce99993f1808e833e75acd2a5bae3ed96ed53066","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.2","_shasum":"e9b1116204e0f7e724e808dcdd30b59299b8c6d0","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.7","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"e9b1116204e0f7e724e808dcdd30b59299b8c6d0","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.2.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.2.tgz_1472067292846_0.18964816443622112"}},"0.0.3":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.3","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","hubot-ibmcloud-cognitive-lib":">=0.0.37","hubot-ibmcloud-utils":">=0.0.8","hubot-conversation":"^1.1.1","i18n-2":"^0.6.3","lodash":"^4.13.1","pos":"^0.3.0","string-length":"^1.0.1","watson-developer-cloud":"^1.9.4"},"gitHead":"6488b7dd5076471d89ec9ce9aa9759e4544e910d","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.3","_shasum":"e29451670d5ed7b988d709315a2ef7d8c7f79868","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.7","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"e29451670d5ed7b988d709315a2ef7d8c7f79868","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.3.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.3.tgz_1472067680293_0.24738193675875664"}},"0.0.4":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.4","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","hubot-ibmcloud-cognitive-lib":">=0.0.37","hubot-ibmcloud-utils":">=0.0.8","hubot-conversation":"^1.1.1","i18n-2":"^0.6.3","lodash":"^4.13.1","pos":"^0.3.0","string-length":"^1.0.1","watson-developer-cloud":"^1.9.4"},"gitHead":"01ebb87552519e0b58ae090f871bcf2b373003a5","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.4","_shasum":"b8ee1d8a88e4721153e7aa9dcd2370e63c7af12a","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.7","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"b8ee1d8a88e4721153e7aa9dcd2370e63c7af12a","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.4.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.4.tgz_1472068933317_0.39886481035500765"}},"0.0.5":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.5","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","hubot-ibmcloud-cognitive-lib":">=0.0.37","hubot-ibmcloud-utils":">=0.0.8","hubot-conversation":"^1.1.1","i18n-2":"^0.6.3","lodash":"^4.13.1","pos":"^0.3.0","string-length":"^1.0.1","watson-developer-cloud":"^1.9.4"},"gitHead":"51f632532004219812dc0d111c037db18ece1594","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.5","_shasum":"e15706e76b3ce92cc5bd3147c4fed9bfbd30ef00","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"e15706e76b3ce92cc5bd3147c4fed9bfbd30ef00","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.5.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.5.tgz_1473170726693_0.14615915762260556"}},"0.0.6":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.6","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0","hubot-conversation":"^1.1.1","hubot-ibmcloud-cognitive-lib":">=0.0.40","hubot-ibmcloud-utils":">=0.0.14","i18n-2":"^0.6.3","lodash":"^4.13.1","watson-developer-cloud":">=2.1.4"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","pos":"^0.3.0","string-length":"^1.0.1"},"gitHead":"41b86c3c5465231a0b8b6e3210f4ce9efaff96eb","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.6","_shasum":"4bccc67f285910a4df6f0c876da5743918e77641","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"4bccc67f285910a4df6f0c876da5743918e77641","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.6.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.6.tgz_1473185794411_0.13158691232092679"}},"0.0.7":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.7","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0","hubot-conversation":"^1.1.1","hubot-ibmcloud-cognitive-lib":">=0.0.40","hubot-ibmcloud-utils":">=0.0.14","i18n-2":"^0.6.3","lodash":"^4.13.1","watson-developer-cloud":">=2.1.4"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","pos":"^0.3.0","string-length":"^1.0.1"},"gitHead":"bfde5838244d2d23d54b90e603b92bdd619b2f49","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.7","_shasum":"dc869c507eef46cef73fa04be8405ea411cf89ce","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"dc869c507eef46cef73fa04be8405ea411cf89ce","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.7.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.7.tgz_1473700190810_0.1155801578424871"}},"0.0.8":{"name":"hubot-ibmcloud-cognitive-entities","version":"0.0.8","description":"Provides cognitive utilities to assist Hubot developers with deriving entities from statements.","main":"index.js","repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"scripts":{"lint":"eslint src/**/*.js index.js test/*.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts","hubot-scripts","ibm","cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-ibmcloud-formatter":">=0.0.29","hubot-test-helper":"1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","mocha-sprinkles":"^2.2.1","nock":"^8.0.0"},"peerDependencies":{"hubot":"^2.19.0","hubot-conversation":"^1.1.1","hubot-ibmcloud-cognitive-lib":">=0.0.40","hubot-ibmcloud-utils":">=0.0.14","i18n-2":"^0.6.3","lodash":"^4.13.1","watson-developer-cloud":">=2.1.4"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"fuse.js":"^2.4.1","pos":"^0.3.0","string-length":"^1.0.1"},"gitHead":"1b413d7a37715fb1b7471aa3b0bbf534bfaea21b","bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","_id":"hubot-ibmcloud-cognitive-entities@0.0.8","_shasum":"264c7a6efcac992f2c5cbe7d26a75dde9d393ac7","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"264c7a6efcac992f2c5cbe7d26a75dde9d393ac7","tarball":"http://registry.npmjs.org/hubot-ibmcloud-cognitive-entities/-/hubot-ibmcloud-cognitive-entities-0.0.8.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-cognitive-entities-0.0.8.tgz_1473868140313_0.8662888125982136"}}},"readme":"[![Build Status](https://travis-ci.org/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.svg?branch=master)](https://travis-ci.org/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities)\n[![Coverage Status](https://coveralls.io/repos/github/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/badge.svg?branch=master)](https://coveralls.io/github/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities?branch=master)\n[![Dependency Status](https://dependencyci.com/github/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/badge)](https://dependencyci.com/github/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities)\n[![npm](https://img.shields.io/npm/v/hubot-ibmcloud-cognitive-entities.svg?maxAge=2592000)](https://www.npmjs.com/package/hubot-ibmcloud-cognitive-entities)\n\n# hubot-ibmcloud-cognitive-entities\n\nProvides a function used by the Natural Language processing that attempts to extract entity values from a statement entered by the user.  The Natural Language processing determines the class that best matches the statement.  Once this is done, the parameter configuration associated with that class is used to extract entity values from the statement.\n\n## Getting Started\n * [Installation](#installation)\t\t\n * [Overview](#overview)\t\t\n * [Entity Extraction Integration](#nlc-json-configuration-file)\n * [License](#license)\t\t\n * [Contribute](#contribute)\n\n## Installation\n\nIn your npm project:\n\nEither run:\n\n`npm install hubot-ibmcloud-cognitive-entities --save`\n\nor add the following line to your package.json's dependencies:\n\n`\"hubot-ibmcloud-cognitive-entities\": \"*\"`\n\n## Overview\n\nIn general, Watson's Natural Language Classifier maps a statement to a class that best matches it.  The classifier is seeded with classes and various statements that can be associated with each class.\n\nOnce the class has been determined, the entity values needed by that class are extracted from the statement by this package.  For instance, if the statement is `I want the weather for Chicago` then the city (Chicago) is pulled from the statement.\n\nVarious facilities are used to extract entity values from the statement.  The Watson Alchemy API is used to find city names for the weather commands.  A parts-of-speech parser is used to find nouns and numbers within a statement for extraction of entities, keywords, and numbers.  Regular expressions are used to find some entity values such as those related to repositories.\n\nIf entity values cannot be extracted with confidence on the first pass, then a fuzzy match may be deployed.  The fuzzy match requires either a parameter of type _keyword_ or a parameter of type _entity_ with an _entityfunction_ field defined.  \n\nThe _entityfunction_ field specifies a function that will be invoked to obtain the latest/complete set of entities for this parameter.  The associated implementation will need to also issue a command to register the function itself.  The entity function is namespaced with the `name` (denoted `n1`) at the root of the JSON structure. To register the global entity function (say, 'entfunc1') at runtime, add a statement similar to the following:\n\n\tnlcconfig.setGlobalEntityFunction('n1_entfunc1, function(parameterName, parameters) {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\t... obtain full list of entities\n\t\t\tresolve(full-list-of-entities);\n\t\t});\n\t});\n\nNote that the function must return a Promise since there will often be a delay obtaining the entities.\n\nThe fuzzy matching takes a list of possible nouns from the statement and matches them against the full set of entities or keyword values to determine possible best matches.  If one or more match is found, a conversation with the user is initiated asking them to choose one.\n\nIf the user does not choose one and the parameter is required, then conversations with the user are initiated asking them to enter the entity value.\n\nThe processing has two phases:\n\n1. For all parameter definitions for a class, determine if an entity value can be reliably obtained using just the parameter definition, the statement, and any currently known entity values (set using `nlcconfig.updateGlobalParameterValues()`).\n\n2. For each required parameter without a value from the first phase, in the order in which they are defined, use the following techniques to make a best guess at the entity value:\n\n  1. If an _entityfunction_ field is specified for a parameter of type _entity_, then the associated registered function is invoked to get the latest, complete set of entity values.  If the parameter is of type _keyword_, then it should already have the full set of values.  Parameters of other types do not have a known list of possibilities.\n\n  2. If there is a complete list of possibilities, then using unknown nouns in the statement make an attempt to fuzzy match against the complete list of possibilities.  If some best matches are found, then present a list of the best matches to the user in a bot conversation to see if they intended one of the choices.  If so, the matching value is used.\n\n  3. If the fuzzy match did not yield results, use a bot conversation to ask the user to enter the parameter value.  The user's response can still be via natural language.  So the response is used to find a value and that is not successful, another fuzzy match is performed.\n\n  4. If a parameter value is still not found, use a bot conversation to ask the user to enter just the parameter value (no natural language).\n\n  5. If in step ii there is not a complete list of possibilities, then a fuzzy match cannot be reliable performed.  In this case, if there is only one possibility then it will be assumed to be the parameter value.\n\n## Entity Extraction Integration\n\nTo integrate entity extraction functionality in your Hubot\n\n1. Add dependencies to `package.json`.\n\t``` json\n\tdependencies: {\n\t\t\"hubot-ibmcloud-cognitive-entities\": \">=0.0.2\"\n\t},\n\tdevDependencies: {\n\t\t\"hubot-ibmcloud-auth\": \">=0.0.8\",\n\t\t\"hubot-ibmcloud-cognitive-lib\": \">=0.0.37\",\n\t\t\"hubot-ibmcloud-nlc\": \">=0.0.32\"\n\t}\n\t```\n\n1. Include these scripts in your bot's `external-scripts.json`.\n\t``` json\n\t[\n\t\"hubot-ibmcloud-auth\",\n\t\"hubot-ibmcloud-nlc\"\n\t]\n\t```\n\n1. Authorize your user ID to access the commands.\n\n\tFor more details, see the documentation for `hubot-ibmcloud-auth`\n\t```\n\tHUBOT_IBMCLOUD_POWERUSERS=<comma-separated list of power-user emails -- no spaces!>\n\tHUBOT_IBMCLOUD_READERUSERS=<comma-separated list of reader-user emails -- no spaces!>\n\tHUBOT_IBMCLOUD_AUTHENTICATION_DISABLED=<only if desired, disables authentication and authorization if true)>\n\t```\n\n1. (Optional) If it is desired to use weather commands (city entity extraction), create a Bluemix Watson Alchemy API service and set the following environment variables with your credentials.\n\n\t```\n\tHUBOT_WATSON_ALCHEMY_URL=<API URL for Watson Alchemy API>\n\tHUBOT_WATSON_ALCHEMY_APIKEY=<API key for Watson Alchemy API>\n\tHUBOT_WATSON_ALCHEMY_DATASET=(Optional) Name of dataset to use>\n\t```\n\n1. (Optional) If it is desired to modify the fuzzy match behavior, the following optional environment variables can be set with new values.\n\n\t```\n\tFUZZY_MATCH_THRESHOLD=<Specifies the fuzzy match threshold (between 0.0 (perfect match) and 1.0, default 0.6>\n\tFUZZY_MATCH_LOCATION=<Specifies the fuzzy match approximate location within text (default 0)>\n\tFUZZY_MATCH_DISTANCE=<Specifies the fuzzy match distance from location (default 100)>\n\tFUZZY_MATCH_DISTANCE_FROM_BEST=<Specifies the distance from best match score for other allowable matches (between 0.0 and 1.0, default 0.5>\n\tFUZZY_MATCH_MAX_ITEMS=<Specifies maximum fuzzy matches returned (default 10)>\n\t```\n\n1. Create a Natural Language classification / parameter definition file.\n\t- For detailed information about the contents of this file see the documentation on [hubot-ibmcloud-cognitive-lib](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-lib/blob/master/README.md)\n\t- The file should be added at `<project>/src/nlc/NLC.json`.\n\t- Sample portion of NLC.json for a cloudant bot.\n\t``` json\n\t{   \n\t\t\"name\": \"IBMcloudCloudant\",\n\t\t\"version\": \"1.0\",\n\t\t\"classes\": [\n\t  \t\t{\n\t\t  \t\t\"class\": \"bluemix.cloudant.runview\",\n\t\t  \t\t\"emittarget\": \"bluemix.cloudant.runview\",\n\t\t  \t\t\"texts\": [\n\t\t  \t\t\t\"Run a cloudant database view\",\n\t\t\t\t\t\"I'd like to execute a view against my cloudant database\",\n\t\t\t\t\t\"cloudant view run\",\n\t\t\t\t\t\"I want to execute a view\"\n\t  \t\t\t],\n\t\t       \"parameters\" : [\n\t\t\t\t   {\n\t\t\t\t       \"name\": \"databasename\",\n\t\t\t\t       \"title\": \"database name\",\n\t\t\t\t       \"type\": \"entity\",\n\t\t\t\t       \"prompt\": \"OK. What is the name of the database you want to run the view against?\",\n\t\t\t\t       \"entityfunction\": \"funcdatabasename\"\n\t\t\t\t   },\n\t\t\t\t   {\n\t\t\t\t       \"name\": \"viewname\",\n\t\t\t\t       \"title\": \"database view name\",\n\t\t\t\t       \"type\": \"entity\",\n\t\t\t\t       \"prompt\": \"OK. What is the name of the view you want to run?\",\n\t\t\t\t       \"entityfunction\": \"funcviewname\"\n\t\t\t\t   }\n\t\t       ]\n\t  \t\t}\n\t\t]\n\t}\n\t```\n\n1. Add code to register the entity functions.\n\n\t```\t\t\n\tnlcconfig.setGlobalEntityFunction('IBMcloudCloudant_funcdatabasename', function(parameterName, parameters {\n\t\treturn new Promise(function(resolve, reject) {\t// Always return a Promise\n\n\t\t\t... logic to get array of database names\n\n\t\t\t// Refresh set of global database names to improve further entity extraction attempts\n\t\t\tnlcconfig.updateGlobalParameterValues(IBMcloudCloudant_databasename, array-of-database-names);\n\n\t\t\t// Return the array of the complete/latest set of database names\n\t\t\tresolve(array-of-database-names);\n\t\t\t\n\t\t});\n\t}));\n\n\tnlcconfig.setGlobalEntityFunction('IBMcloudCloudant_funcviewname', function(parameterName, parameters {\n\t\treturn new Promise(function(resolve, reject) {\t// Always return a Promise\n\t\t\tif (parameters.databasename) {\t\t// Get the database name that has been extracted first\n\n\t\t\t\t... logic to get array of view names based on database name\n\n\t\t\t\t// Since the view names depend on the database name used, it does not help to\n\t\t\t\t// set them in a set of global view names.\n\n\t\t\t\t// Return the array of complete/latest set of view names for the given database name\n\t\t\t\tresolve(array-of-view-names);\n\n\t\t\t}\n\t\t\telse {\t\t// Database name missing\n\t\t\t\treject(new Error('Unable to get view names for a database because the database name has not been set'));\n\t\t\t}\n\t\t});\n\t}));\n\t```\n\n1. (Optional) If needed, the entity extraction function can be disabled.  If disabled, a conversation with the user is used to obtain all required entity values.\n\n\t```\n\tENTITY_PARSING_DISABLED=true\n\t```\n\n## License\n\nSee [LICENSE.txt](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/blob/master/LICENSE.txt) for license information.\n\n## Contribute\n\nPlease check out our [Contribution Guidelines](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/blob/master/CONTRIBUTING.md) for detailed information on how you can lend a hand.\n","maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"time":{"modified":"2016-09-14T15:49:02.201Z","created":"2016-08-24T19:34:55.580Z","0.0.2":"2016-08-24T19:34:55.580Z","0.0.3":"2016-08-24T19:41:22.225Z","0.0.4":"2016-08-24T20:02:15.160Z","0.0.5":"2016-09-06T14:05:27.532Z","0.0.6":"2016-09-06T18:16:35.444Z","0.0.7":"2016-09-12T17:09:52.808Z","0.0.8":"2016-09-14T15:49:02.201Z"},"homepage":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities#readme","keywords":["cognitive","nlc","natural language","parameter extraction","entities","ibm cloud","hubot","hubot utilities","hubot scripts","hubot-scripts","ibm","cloud"],"repository":{"url":"git+https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities.git","type":"git"},"author":{"name":"ibm-cloud-solutions"},"bugs":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-cognitive-entities/issues"},"license":"Apache-2.0","readmeFilename":"README.md"}
