{"_id":"hubot-approval","_rev":"2-1cae3f5ba6c192d6bfe756cd54806141","name":"hubot-approval","description":"Middleware for managing peer approvals of Hubot commands","dist-tags":{"latest":"1.0.1"},"versions":{"1.0.0":{"name":"hubot-approval","description":"Middleware for managing peer approvals of Hubot commands","version":"1.0.0","author":{"name":"Michael Ansel","email":"mansel@box.com"},"license":"MIT","keywords":["hubot","hubot-script","security"],"repository":{"type":"git","url":"git://github.com/hubot-scripts/hubot-approval.git"},"bugs":{"url":"https://github.com/hubot-scripts/hubot-approval/issues"},"dependencies":{},"peerDependencies":{"hubot":"^2.15.0"},"devDependencies":{"chai":"^2.1.1","coffee-script":"1.6.3","grunt":"^0.4.5","grunt-cli":"^0.1.13","grunt-contrib-watch":"~0.6.1","grunt-mocha-test":"~0.12.7","grunt-release":"~0.11.0","hubot":"^2.15.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"22d11535612cac1f2b490cd9beea60750c57413e","homepage":"https://github.com/hubot-scripts/hubot-approval#readme","_id":"hubot-approval@1.0.0","_shasum":"b500065a24fb633c352c02cc3c785d2b99405011","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.10.29","_npmUser":{"name":"michaelansel","email":"npm@anselcomputers.com"},"dist":{"shasum":"b500065a24fb633c352c02cc3c785d2b99405011","tarball":"http://registry.npmjs.org/hubot-approval/-/hubot-approval-1.0.0.tgz"},"maintainers":[{"name":"michaelansel","email":"npm@anselcomputers.com"}]},"1.0.1":{"name":"hubot-approval","description":"Middleware for managing peer approvals of Hubot commands","version":"1.0.1","author":{"name":"Michael Ansel","email":"mansel@box.com"},"license":"MIT","keywords":["hubot","hubot-script","security"],"repository":{"type":"git","url":"git://github.com/michaelansel/hubot-approval.git"},"bugs":{"url":"https://github.com/michaelansel/hubot-approval/issues"},"dependencies":{},"peerDependencies":{"hubot":"^2.15.0"},"devDependencies":{"chai":"^2.1.1","coffee-script":"1.6.3","grunt":"^0.4.5","grunt-cli":"^0.1.13","grunt-contrib-watch":"~0.6.1","grunt-mocha-test":"~0.12.7","grunt-release":"~0.11.0","hubot":"^2.15.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"5b74ab63c18db143c6d9442ad2ec9a13f7386e28","homepage":"https://github.com/michaelansel/hubot-approval#readme","_id":"hubot-approval@1.0.1","_shasum":"6ed6924b8ec51fe1474f05e3790fa9162cbe36c1","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.10.29","_npmUser":{"name":"michaelansel","email":"npm@anselcomputers.com"},"dist":{"shasum":"6ed6924b8ec51fe1474f05e3790fa9162cbe36c1","tarball":"http://registry.npmjs.org/hubot-approval/-/hubot-approval-1.0.1.tgz"},"maintainers":[{"name":"michaelansel","email":"npm@anselcomputers.com"}]}},"readme":"# hubot-approval\n\nMiddleware for managing peer approvals of Hubot commands\n\nSee [`src/approval.coffee`](src/approval.coffee) for full documentation.\n\n## Installation\n\nIn hubot project repo, run:\n\n`npm install hubot-approval --save`\n\nThen add **hubot-approval** to your `external-scripts.json`:\n\n```json\n[\n  \"hubot-approval\"\n]\n```\n\nNote that **hubot-approval** needs to be added *after* whatever module is adding the `groups` function to the `User` object.\n\n## Assumptions\n\n**hubot-approval** assumes that there is a piece of middleware executing prior to it that modifies the `User` object to add a group lookup function (`groups`). A simple version is below:\n\n```coffeescript\nrobot.listenerMiddleware (context, next, done) ->\n  context.response.message.user.groups = (cb) ->\n    cb(robot.brain.get('userGroups')[context.response.message.user.name] or [])\n```\n\n## Sample Interaction\n\n```\nuser1>> hubot do something\nhubot>> user1: I need approval for that from someone in 'admin'. In order to approve, say 'hubot approve cheese'.\nuser2>> hubot approve cheese\nhubot>> user2: Approved! Executing 'hubot do something' for user1\nhubot>> user1: I did something!\n```\n","maintainers":[{"name":"michaelansel","email":"npm@anselcomputers.com"}],"time":{"modified":"2015-08-19T01:57:50.440Z","created":"2015-08-19T01:19:09.413Z","1.0.0":"2015-08-19T01:19:09.413Z","1.0.1":"2015-08-19T01:57:50.440Z"},"homepage":"https://github.com/michaelansel/hubot-approval#readme","keywords":["hubot","hubot-script","security"],"repository":{"type":"git","url":"git://github.com/michaelansel/hubot-approval.git"},"author":{"name":"Michael Ansel","email":"mansel@box.com"},"bugs":{"url":"https://github.com/michaelansel/hubot-approval/issues"},"license":"MIT","readmeFilename":"README.md"}
