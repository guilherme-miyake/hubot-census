{"_id":"hubot-line","_rev":"2-fc2714958e348cd63564286d0422658c","name":"hubot-line","description":"A hubot adapter for LINE","dist-tags":{"latest":"0.0.6"},"versions":{"0.0.1":{"name":"hubot-line","version":"0.0.1","description":"A hubot adapter for LINE","keywords":["hubot","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.6.3","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./src/line","gitHead":"51ecc6cf4df50bd627bf1a97e11a5ef6ed92c17c","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.1","scripts":{},"_shasum":"02684667ce2e5ec419f04c5124dc7389d5c649d3","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"02684667ce2e5ec419f04c5124dc7389d5c649d3","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.1.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.1.tgz_1460457698506_0.8887996093835682"}},"0.0.2":{"name":"hubot-line","version":"0.0.2","description":"A hubot adapter for LINE","keywords":["hubot","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.6.3","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./src/line","gitHead":"55cfa969bdef913ce603a7f09d3237a82b5e6184","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.2","scripts":{},"_shasum":"76201a3428927a750e8118e4e29fd2eb515ba98e","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"76201a3428927a750e8118e4e29fd2eb515ba98e","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.2.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.2.tgz_1460479431312_0.37953333696350455"}},"0.0.3":{"name":"hubot-line","version":"0.0.3","description":"A hubot adapter for LINE","keywords":["hubot","adapter","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.7.1","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./index","gitHead":"10895e6f9d87a096cb85f38702a76c8744c49fa5","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.3","scripts":{},"_shasum":"6b0f61254127f63e33d3ee09df246e9a4fb81695","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"6b0f61254127f63e33d3ee09df246e9a4fb81695","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.3.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.3.tgz_1460655511273_0.3317705290392041"}},"0.0.4":{"name":"hubot-line","version":"0.0.4","description":"A hubot adapter for LINE","keywords":["hubot","adapter","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.7.1","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./index","gitHead":"aa4acde5baa236d89708a55825b7ef1e367449e4","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.4","scripts":{},"_shasum":"d8f57387fe044838e84ba100baac03c6b0d7a0e6","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"d8f57387fe044838e84ba100baac03c6b0d7a0e6","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.4.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.4.tgz_1460737373922_0.251822384307161"}},"0.0.5":{"name":"hubot-line","version":"0.0.5","description":"A hubot adapter for LINE","keywords":["hubot","adapter","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.7.1","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./index","gitHead":"945a6ef94b0bc9f2f9bdbccdf4b183cfa3dd744c","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.5","scripts":{},"_shasum":"5d61f62d9d8caa98d5457a654c65bc62656efa01","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"5d61f62d9d8caa98d5457a654c65bc62656efa01","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.5.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.5.tgz_1460864885409_0.49310624692589045"}},"0.0.6":{"name":"hubot-line","version":"0.0.6","description":"A hubot adapter for LINE","keywords":["hubot","adapter","line"],"author":{"name":"umakoz"},"license":"MIT","repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"dependencies":{"https-proxy-agent":"~1.0.0"},"devDependencies":{"coffee-script":"~1.7.1","hubot":"~2.11"},"engines":{"node":">= 0.8.x","npm":">= 1.1.x"},"main":"./index","gitHead":"9f5e19d99531374bc86a88f8b704f4cf542313cd","homepage":"https://github.com/umakoz/hubot-line#readme","_id":"hubot-line@0.0.6","scripts":{},"_shasum":"3ba8064699e3427dcfe86e444b7993f4ec73d333","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.1","_npmUser":{"name":"umakoz","email":"um@makoz.net"},"dist":{"shasum":"3ba8064699e3427dcfe86e444b7993f4ec73d333","tarball":"http://registry.npmjs.org/hubot-line/-/hubot-line-0.0.6.tgz"},"maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-line-0.0.6.tgz_1460895892471_0.9322831793688238"}}},"readme":"hubot-line\n==============\n\nThis is a [Hubot](https://hubot.github.com/) adapter to use with [LINE](http://line.me/).  \nThis library is using [LINE BOT API](https://developers.line.me/bot-api/overview).  \nNow, this adapter supports [BOT API Trial](https://developers.line.me/type-of-accounts/bot-api-trial) only. Sorry, [Business Connect](https://developers.line.me/type-of-accounts/business-connect) is not available yet.\n\n## Installation\n\n* Add `hubot-line` as a dependency in your hubot's `package.json`\n* Install dependencies with `npm install`\n* Run hubot with `bin/hubot -a line`\n\n### Note if running on Heroku\n\nYou will need to change the process type from `app` to `web` in the `Procfile`.\n\n## Usage\n\nCreate a business account at the [Business Center](https://business.line.me/).  \nAdd BOT API Trial on your business account page.  \nThen you will need to set some environment variables to use this adapter.\n\n### Environment variables\n\nThe following environment variables must be defined.\n\n| Variable name | Description |\n|---|---|\n| HUBOT_LINE_CHANNEL_ID | Your bot's Channel ID |\n| HUBOT_LINE_CHANNEL_SECRET | Your bot's Channel Secret |\n| HUBOT_LINE_CHANNEL_MID | Your bot's MID |\n\nThe following environment variables are optional.\n\n| Variable name | Default value | Description |\n|---|---|---|\n| HUBOT_LINE_PROXY_URL | (NULL) | Primary url for tunneling through a HTTP proxy |\n| FIXIE_URL | (NULL) | Secondary url for tunneling through a HTTP proxy<br> This value is ready for [Fixie](https://elements.heroku.com/addons/fixie) |\n| HUBOT_LINE_CALLBACK_PATH | /hubot/line/callback | Path to receive requests sent from the LINE platform |\n\n### Heroku\n\n    $ heroku config:add HUBOT_LINE_CHANNEL_ID=\"your_channel_id\"\n    $ heroku config:add HUBOT_LINE_CHANNEL_SECRET=\"your_channel_secret\"\n    $ heroku config:add HUBOT_LINE_CHANNEL_MID=\"your_channel_mid\"\n\nThe BOT APIs can only be called from registered servers. So you must use a service that provides your Heroku application with a fixed set of static IP addresses for outbound requests.  \nIf you want to use [Fixie](https://elements.heroku.com/addons/fixie), execute a following heroku command. This command set `FIXIE_URL` automatically.\n\n```sh\n$ heroku addons:create fixie:tricycle\n```\n\nIf you want to use the other service, please set `HUBOT_LINE_PROXY_URL` like below.\n\n```sh\n$ heroku config:add HUBOT_LINE_PROXY_URL=\"your_proxy_url\"\n```\n\nIf you want to change a callback url, you should set `HUBOT_LINE_CALLBACK_PATH` like following.\n\n```sh\n$ heroku config:add HUBOT_LINE_CALLBACK_PATH=\"/path/to/callback\"\n```\n\n### Non-Heroku environment variables\n\n```sh\n$ export HUBOT_LINE_CHANNEL_ID=\"your_channel_id\"\n$ export HUBOT_LINE_CHANNEL_SECRET=\"your_channel_secret\"\n$ export HUBOT_LINE_CHANNEL_MID=\"your_channel_mid\"\n```\n\nThe following environment variables are optional.\n\n```sh\n$ export HUBOT_LINE_CALLBACK_PATH=\"/path/to/callback\"\n$ export HUBOT_LINE_PROXY_URL=\"your_proxy_url\"\n```\n\n### LINE Platform\n\nYou will need to register a callback URL on LINE Platform. Please refer to [Registering a callback URL](https://developers.line.me/bot-api/getting-started-with-bot-api-trial#register_callback_url).  \nYou need to register IP addresses on your server whitelist. Please refer to [Server whitelist](https://developers.line.me/bot-api/getting-started-with-bot-api-trial#whitelists).\n\n## Scripting\n\n### Listen\n\nThis adapter can listen LINE actions as messages. LINE actions this library can listen are image and video, audio, location, sticker, contact, friend, block.  \nTo listen, you need to register a listener in your own script. For example, if you want to listen to when hubot receives any sticker, you can write as follows.\n\n```coffeescript\n{LineStickerListener} = require 'hubot-line'\n\nmodule.exports = (robot) ->\n  robot.listeners.push new LineStickerListener robot, (() -> true), (res) ->\n    res.send \"Receiced a sticker. id: #{res.message.id} STKPKGID: #{res.message.STKPKGID}\"\n```\n\nListener constructor has 3 parameters.\n\n* robot - A Robot instance.\n* matcher - A Function that determines if this listener should trigger the callback.\n* callback - A Function that is triggered if the incoming message matches.\n\nCallback parameter `res` contains the message property, and all of messages have a property of id.\n\n#### Listeners\n\nListeners are provided for each LINE action.\n\n* LineImageListener - Listen image messages\nA image message has extra methods. (Refer to following content and previewContent section)  \n    * content - a user’s image\n    * previewContent - a thumbnail preview\n* LineVideoListener - Listen video messages\nA video message has extra methods. (Refer to following content and previewContent section)  \n    * content - a user’s video\n    * previewContent - a thumbnail preview\n* LineAudioListener - Listen audio messages\nA audio message has extra methods. (Refer to following content and previewContent section)  \n    * content - a user’s audio\n* LineLocationListener - Listen location messages  \nA location message has extra properties.  \n    * title - \"Location data\" string\n    * address - Address\n    * latitude - Latitude\n    * longitude - Longitude\n* LineStickerListener - Listen sticker messages  \nA sticker message has extra properties.  \n    * STKPKGID - The package ID of the sticker\n    * STKID - The sticker ID\n    * STKVER - The sticker’s version number\n    * STKTXT - The text of the sticker\n* LineContactListener - Listen contact messages  \nA contact message has extra properties.  \n    * mid - The MID value of the person sent as this contact\n    * displayName - The nickname of the person sent as this contact\n* LineRawMessageListener - Listen actions that summarized followings: image and video, audio, location, sticker, contact\n* LineFriendListener - Listen operations that added as friend (including canceling block)  \nA friend message has extra properties.  \n    * mid - MID of user who added your account as a friend\n* LineBlockListener - Listen operations that blocked bot account  \nA block message has extra properties.  \n    * mid - MID of user who blocked your account\n* LineRawOperationListener - Listen operations that summarized the followings: friend, block\n\n##### Content and previewContent\n\nLINE image and video messages have content and previewContent that users send. Also audio messages have content.\nYou can retrieve the content and previewContent of a user’s message like following.\n\n```coffeescript\n{LineImageListener} = require 'hubot-line'\n\nmodule.exports = (robot) ->\n  robot.listeners.push new LineImageListener robot, (() -> true), (res) ->\n    res.message.content (content) ->\n      res.message.previewContent (previewContent) ->\n        # process binary data of content and previewContent.\n```\n\nPlease process binary data of content and previewContent, as you want.\n\n\n### Emote\n\nThe `res` parameter is an instance of Response. With it, you can emote a line action. For example:\n\n```coffeescript\n{LineStickerListener, LineStickerAction} = require 'hubot-line'\n\nmodule.exports = (robot) ->\n  robot.listeners.push new LineStickerListener robot, (() -> true), (res) ->\n    res.emote new LineStickerAction res.message.STKID, res.message.STKPKGID\n```\n\nAbove an example, LineStickerListener emote a sticker action that sender did.\nTo emote a sticker, place 2 parameters, STKID and STKPKGID.  \nLINE actions this library can emote are text and image, video, audio, location, sticker.  \n\n#### Actions\n\nThis library has following LINE actions.\n\n* LineTextAction - Emote texts  \nA text action has a parameter.  \n    * text - String you want to send. Messages can contain up to 1024 characters.\n* LineImageAction - Emote images  \nA image action has 2 parameters.  \n    * originalContentUrl - URL of image. Only JPEG format supported. Image size cannot be larger than 1024×1024\n    * previewImageUrl - URL of thumbnail image. For preview. Only JPEG format supported. Image size cannot be larger than 240×240\n* LineVideoAction - Emote videos  \nA video action has 2 parameters.  \n    * originalContentUrl - URL of the movie. The \"mp4\" format is recommended\n    * previewImageUrl - URL of thumbnail image used as a preview\n* LineAudioAction - Emote audios  \nA audio action has 2 parameters.  \n    * originalContentUrl - URL of audio file. The \"m4a\" format is recommended\n    * AUDLEN - Length of voice message. The unit is given in milliseconds\n* LineLocationAction - Emote locations  \nA location action has 3 parameters.  \n    * title - String used to explain the location information (example: name of restaurant, address)\n    * latitude - Latitude\n    * longitude - Loingitude\n* LineStickerAction - Emote stickers  \nYou can use the stickers shown in the [sticker list](https://developers.line.me/wp-content/uploads/2016/04/sticker_list.xlsx). A sticker action has 3 parameters.  \n    * STKID - ID of the sticker\n    * STKPKGID - Package ID of the sticker\n    * STKVER - Optional. Version number of the sticker. If omitted, the latest version number is applied\n\n## Contribute\n\nJust send pull request if needed or fill an issue !\n\n## License\n\nThe MIT License. See `LICENSE` for details.\n","maintainers":[{"name":"umakoz","email":"um@makoz.net"}],"time":{"modified":"2016-04-17T12:24:54.804Z","created":"2016-04-12T10:41:39.006Z","0.0.1":"2016-04-12T10:41:39.006Z","0.0.2":"2016-04-12T16:43:54.390Z","0.0.3":"2016-04-14T17:38:31.740Z","0.0.4":"2016-04-15T16:22:54.678Z","0.0.5":"2016-04-17T03:48:05.798Z","0.0.6":"2016-04-17T12:24:54.804Z"},"homepage":"https://github.com/umakoz/hubot-line#readme","keywords":["hubot","adapter","line"],"repository":{"type":"git","url":"git://github.com/umakoz/hubot-line.git"},"author":{"name":"umakoz"},"bugs":{"url":"https://github.com/umakoz/hubot-line/issues"},"license":"MIT","readmeFilename":"README.md"}
