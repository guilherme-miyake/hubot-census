{"_id":"hubot-env","_rev":"2-c21a0e5f382434d4dca093e0a8510368","name":"hubot-env","description":"Hubot manages environment variables in process.env and redis","dist-tags":{"latest":"0.0.2"},"versions":{"0.0.1":{"name":"hubot-env","version":"0.0.1","description":"Hubot reads environment variables","repository":{"type":"git","url":"git+ssh://git@github.com/yoheimuta/hubot-env.git"},"main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"dependencies":{"underscore":"1.8.3","node-env-file":"0.1.7"},"keywords":["hubot","hubot-scripts","hubot env","hubot-env","hubot environment","hubot environment variables"],"bugs":{"url":"https://github.com/yoheimuta/hubot-env/issues"},"author":{"name":"yoheimuta","email":"yoheimuta@gmail.com"},"license":"MIT","gitHead":"111f8c6642aa3e6ca5e812ed74e73c2ed53771c3","homepage":"https://github.com/yoheimuta/hubot-env#readme","_id":"hubot-env@0.0.1","_shasum":"6a0affc1ec2a53160f9ec7db5813ffb397f8f174","_from":".","_npmVersion":"2.8.4","_nodeVersion":"0.10.26","_npmUser":{"name":"yoheimuta","email":"yoheimuta@gmail.com"},"dist":{"shasum":"6a0affc1ec2a53160f9ec7db5813ffb397f8f174","tarball":"http://registry.npmjs.org/hubot-env/-/hubot-env-0.0.1.tgz"},"maintainers":[{"name":"yoheimuta","email":"yoheimuta@gmail.com"}]},"0.0.2":{"name":"hubot-env","version":"0.0.2","description":"Hubot manages environment variables in process.env and redis","repository":{"type":"git","url":"git+ssh://git@github.com/yoheimuta/hubot-env.git"},"main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"dependencies":{"underscore":"1.8.3","node-env-file":"0.1.7"},"keywords":["hubot","hubot-scripts","hubot env","hubot-env","hubot environment","hubot environment variables","hubot persistent","hubot persistent environment","hubot redis environment"],"bugs":{"url":"https://github.com/yoheimuta/hubot-env/issues"},"author":{"name":"yoheimuta","email":"yoheimuta@gmail.com"},"license":"MIT","gitHead":"483faec81b774c3c6529a1b32b8da951fa0134d3","homepage":"https://github.com/yoheimuta/hubot-env#readme","_id":"hubot-env@0.0.2","_shasum":"80a2df30bd1f6475d01d0052846826a9751250ef","_from":".","_npmVersion":"2.8.4","_nodeVersion":"0.10.26","_npmUser":{"name":"yoheimuta","email":"yoheimuta@gmail.com"},"dist":{"shasum":"80a2df30bd1f6475d01d0052846826a9751250ef","tarball":"http://registry.npmjs.org/hubot-env/-/hubot-env-0.0.2.tgz"},"maintainers":[{"name":"yoheimuta","email":"yoheimuta@gmail.com"}]}},"readme":"# hubot-env\n\n[![NPM](https://nodei.co/npm/hubot-env.png)](https://nodei.co/npm/hubot-env/)\n\nHubot manages environment variables dynamically in process.env and redis.\n\n- load environment variables in process.env.\n- store environment variables in redis.\n- reload environment variables from redis to process.env in restarting hubot.\n- flush all environment variables previously loaded via commands in process.env and redis.\n\nIf you use [hubot-aws](https://github.com/yoheimuta/hubot-aws) for example, you can switch environment variables about AWS Account Credentials via hubot command dynamically.\n\n## Installation\n\nAdd **hubot-env** to your `package.json` file:\n\n```\nnpm install --save hubot-env\n```\n\nAdd **hubot-env** to your `external-scripts.json`:\n\n```json\n[\"hubot-env\"]\n```\n\nRun `npm install`\n\n## Commands\n\n```ruby\nhubot env current - Displays all current environment variables\nhubot env current --prefix=[prefix] - Displays current environment variables with prefix\nhubot env file - List name of files under HUBOT_ENV_BASE_PATH\nhubot env flush all - Flush all current environment variables in process.env and redis\nhubot env flush all --dry-run - Try flushing all current environment variables in process.env and redis\nhubot env load --filename=[filename] - Loads [filename] of environment variables in process.env and redis\nhubot env load --filename=[filename] --dry-run - Try loading [filename] of environment variables in process.env and redis\n```\n\n## Configuration\n\nSet environment variables like an example below.\n\n```ruby\nexport HUBOT_ENV_BASE_PATH=\"${HOME}/example\"\nexport HUBOT_ENV_HIDDEN_WORDS=\"SECRET_ACCESS_KEY,PASSWORD,TOKEN,API_KEY\"\n```\n\nYou can parepare your own env files by referring to the [example files](https://github.com/yoheimuta/hubot-env/tree/master/example).\n\n## Examples\n\nDisplay current environment variables. You can limit to output with a prefix.\n\n```ruby\nhubot> hubot env current --prefix=HUBOT\nHUBOT_GITHUB_TOKEN=***\nHUBOT_ENV_HIDDEN_WORDS=SECRET_ACCESS_KEY,PASSWORD,TOKEN,API_KEY\nHUBOT_AUTH_ADMIN=ADMIN\nHUBOT_ENV_BASE_PATH=files/env\nHUBOT_GITHUB_REPO=yoheimuta/hubot-env\nHUBOT_CONCURRENT_REQUESTS=20\n```\n\nDisplay env files under HUBOT_ENV_BASE_PATH. You can select one in this list to load.\n\n```ruby\nhubot> hubot env file\naws-cred-account1.env\naws-cred-account2.env\n```\n\nLoad new environment variables abount AWS credentials of account 1.\n\n```ruby\nhubot> hubot env load --filename=aws-cred-account1.env\nLoading env --filename=aws-cred-account1.env, --dry-run=false...\nHUBOT_AWS_CREDENTIALS=account1\nHUBOT_AWS_ACCESS_KEY_ID=ACCESS_KEY1\nHUBOT_AWS_SECRET_ACCESS_KEY=***\nHUBOT_AWS_REGION=ap-northeast-1\n```\n\nThen, Switch to overwrite environment variables abount AWS credentials of account 2.\n\n```ruby\nhubot> hubot env load --filename=aws-cred-account2.env\nLoading env --filename=aws-cred-account2.env, --dry-run=false...\nHUBOT_AWS_CREDENTIALS=account2\nHUBOT_AWS_ACCESS_KEY_ID=ACCESS_KEY2\nHUBOT_AWS_SECRET_ACCESS_KEY=***\nHUBOT_AWS_REGION=ap-northeast-1\n```\n\nReload environment variables when restarting hubot.\n\n```ruby\n$ ./bin/hubot\nhubot>\n[Sun May 10 2015 16:19:20 GMT+0900 (JST)] INFO Using default redis on localhost:6379\n[Sun May 10 2015 16:19:20 GMT+0900 (JST)] INFO Data for hubot brain retrieved from Redis\nhubot env bootstrap loaded HUBOT_AWS_CREDENTIALS => account2\nhubot env bootstrap loaded HUBOT_AWS_ACCESS_KEY_ID => ACCESS_KEY2\nhubot env bootstrap loaded HUBOT_AWS_SECRET_ACCESS_KEY => ***\nhubot env bootstrap loaded HUBOT_AWS_REGION => ap-northeast-1\n\nhubot>\n```\n\nFlush all loaded environment variables.\n\n```ruby\n# Dry-run\nhubot> hubot env flush all --dry-run\nFlushing all --dry-run=true...\nComplete dry-run: loadedData={\n  HUBOT_AWS_CREDENTIALS: 'account2',\n  HUBOT_AWS_ACCESS_KEY_ID: 'ACCESS_KEY2',\n  HUBOT_AWS_SECRET_ACCESS_KEY: '***',\n  HUBOT_AWS_REGION: 'ap-northeast-1' }\n\n# Flush all\nhubot> hubot env flush all\nFlushing all --dry-run=false...\nComplete flushing all\n\n# Confirm to be flushed data in redis and process.env\nhubot> hubot brain show storage --key=_private.hubot-env\nnull\nhubot> hubot env current --prefix=HUBOT\nHUBOT_GITHUB_TOKEN=***\nHUBOT_ENV_HIDDEN_WORDS=SECRET_ACCESS_KEY,PASSWORD,TOKEN,API_KEY\nHUBOT_AUTH_ADMIN=ADMIN\nHUBOT_ENV_BASE_PATH=files/env\nHUBOT_GITHUB_REPO=yoheimuta/hubot-env\nHUBOT_CONCURRENT_REQUESTS=20\n```\n\n## Recommended Usage\n\n### Use [hubot-brain-inspect](https://github.com/yoheimuta/hubot-brain-inspect)\n\n`hubot-brain-inspect` displays data saved in redis with specifying by keys.\n\n```ruby\nhubot> hubot brain show storage --key=_private.hubot-env\n{ env:\n   { HUBOT_AWS_CREDENTIALS: 'account2',\n     HUBOT_AWS_ACCESS_KEY_ID: 'ACCESS_KEY2',\n     HUBOT_AWS_SECRET_ACCESS_KEY: '***',\n     HUBOT_AWS_REGION: 'ap-northeast-1' } }\n```\n","maintainers":[{"name":"yoheimuta","email":"yoheimuta@gmail.com"}],"time":{"modified":"2016-10-02T14:50:52.635Z","created":"2015-04-22T22:34:00.277Z","0.0.1":"2015-04-22T22:34:00.277Z","0.0.2":"2015-05-10T07:40:51.599Z"},"homepage":"https://github.com/yoheimuta/hubot-env#readme","keywords":["hubot","hubot-scripts","hubot env","hubot-env","hubot environment","hubot environment variables","hubot persistent","hubot persistent environment","hubot redis environment"],"repository":{"type":"git","url":"git+ssh://git@github.com/yoheimuta/hubot-env.git"},"author":{"name":"yoheimuta","email":"yoheimuta@gmail.com"},"bugs":{"url":"https://github.com/yoheimuta/hubot-env/issues"},"license":"MIT","readmeFilename":"README.md","users":{"brentmaxwell":true}}
