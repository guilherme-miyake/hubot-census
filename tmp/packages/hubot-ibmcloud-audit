{"_id":"hubot-ibmcloud-audit","_rev":"1-49c135537268b8e58e2bed85a5006d99","name":"hubot-ibmcloud-audit","description":"hubot-ibmcloud-audit","dist-tags":{"latest":"0.0.17"},"versions":{"0.0.11":{"name":"hubot-ibmcloud-audit","version":"0.0.11","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^3.4.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"7a2091f4529c82246a971703071f731848d3ea5d","_id":"hubot-ibmcloud-audit@0.0.11","_shasum":"04bd9ba834d54a0d85271b8ecd023e1f0a91f196","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"04bd9ba834d54a0d85271b8ecd023e1f0a91f196","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.11.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.11.tgz_1470166759468_0.5095143476501107"}},"0.0.12":{"name":"hubot-ibmcloud-audit","version":"0.0.12","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^3.4.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"974f5f2b8d0aba62517862ae8ecaa1c74f43a7ca","_id":"hubot-ibmcloud-audit@0.0.12","_shasum":"2d1200edb43ca3accd54c91433323b7ace924bc6","_from":".","_npmVersion":"2.15.1","_nodeVersion":"4.4.3","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"2d1200edb43ca3accd54c91433323b7ace924bc6","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.12.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.12.tgz_1470345570611_0.4462162896525115"}},"0.0.13":{"name":"hubot-ibmcloud-audit","version":"0.0.13","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^4.0.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"fe28fbd1389b776dfc78e68a3a1c7d7ea36b1984","_id":"hubot-ibmcloud-audit@0.0.13","_shasum":"21769b637f2dd2d77f3ea2be928b80a4958745c7","_from":".","_npmVersion":"2.15.1","_nodeVersion":"4.4.3","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"21769b637f2dd2d77f3ea2be928b80a4958745c7","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.13.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.13.tgz_1470669649913_0.40876521193422377"}},"0.0.14":{"name":"hubot-ibmcloud-audit","version":"0.0.14","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^4.0.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"8660bf88e38ed32889b4dc893b156abc40e2251a","_id":"hubot-ibmcloud-audit@0.0.14","_shasum":"1336cad007790ac147c9570ff6ac73a12fe8ddb5","_from":".","_npmVersion":"2.15.1","_nodeVersion":"4.4.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"1336cad007790ac147c9570ff6ac73a12fe8ddb5","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.14.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.14.tgz_1471290356659_0.7964176936075091"}},"0.0.15":{"name":"hubot-ibmcloud-audit","version":"0.0.15","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^4.0.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"0787fad1d74a7bc35a79a57b9bcd3175204bcdde","_id":"hubot-ibmcloud-audit@0.0.15","_shasum":"8e6c10ac55925f0cf5295fe8b76cb9dcea34ac35","_from":".","_npmVersion":"2.15.1","_nodeVersion":"4.4.4","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"8e6c10ac55925f0cf5295fe8b76cb9dcea34ac35","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.15.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.15.tgz_1471362097237_0.6585435944143683"}},"0.0.16":{"name":"hubot-ibmcloud-audit","version":"0.0.16","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^4.0.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"ddabe6d7c813bfe4145a7d0c126c8fb9ad326b0d","_id":"hubot-ibmcloud-audit@0.0.16","_shasum":"ba9e963ddd5ea2ea7f2fd10195e2a4613524cd95","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.7","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"ba9e963ddd5ea2ea7f2fd10195e2a4613524cd95","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.16.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.16.tgz_1471446071741_0.596873028902337"}},"0.0.17":{"name":"hubot-ibmcloud-audit","version":"0.0.17","description":"hubot-ibmcloud-audit","main":"index.js","respository":{"url":"https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit","type":"git"},"scripts":{"start":"source config/env && hubot -a shell","slack":"source config/env && hubot -a slack","facebook":"source config/env && hubot -a fb","lint":"eslint src/**/*.js test/*.js index.js","test":". test/.env && mocha test","coverage":". test/.env && istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","devDependencies":{"chai":"^3.5.0","coffee-script":"^1.10.0","coveralls":"^2.11.12","eslint":"^2.9.0","eslint-config-strongloop":"^2.0.1","hubot":"^2.19.0","hubot-fb":"^3.0.0","hubot-help":"^0.2.0","hubot-shell":"^1.0.2","hubot-slack":"^4.0.2","hubot-test-helper":"^1.4.4","istanbul":"0.4.0","mocha":"^2.4.5","nock":"^8.0.0","rewire":"2.5.1"},"peerDependencies":{"hubot":"^2.19.0"},"engines":{"node":">= 4.2.0"},"files":["src","index.js"],"dependencies":{"elasticsearch":"^11.0.1","global-request-logger":"0.0.1"},"gitHead":"98d1bd6ec3805bd638ece78e30c889b05245d871","_id":"hubot-ibmcloud-audit@0.0.17","_shasum":"31bf67b820b46ac296ec93efd71e43f9fe7974a5","_from":".","_npmVersion":"3.10.6","_nodeVersion":"4.4.7","_npmUser":{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"},"dist":{"shasum":"31bf67b820b46ac296ec93efd71e43f9fe7974a5","tarball":"http://registry.npmjs.org/hubot-ibmcloud-audit/-/hubot-ibmcloud-audit-0.0.17.tgz"},"maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-ibmcloud-audit-0.0.17.tgz_1471455565304_0.053630052134394646"}}},"readme":"[![Build Status](https://travis-ci.org/ibm-cloud-solutions/hubot-ibmcloud-audit.svg?branch=master)](https://travis-ci.org/ibm-cloud-solutions/hubot-ibmcloud-audit)\n[![Coverage Status](https://coveralls.io/repos/github/ibm-cloud-solutions/hubot-ibmcloud-audit/badge.svg?branch=master)](https://coveralls.io/github/ibm-cloud-solutions/hubot-ibmcloud-audit?branch=master)\n[![Dependency Status](https://dependencyci.com/github/ibm-cloud-solutions/hubot-ibmcloud-audit/badge)](https://dependencyci.com/github/ibm-cloud-solutions/hubot-ibmcloud-audit)\n[![npm](https://img.shields.io/npm/v/hubot-ibmcloud-audit.svg?maxAge=2592000)](https://www.npmjs.com/package/hubot-ibmcloud-audit)\n\n# hubot-ibmcloud-audit\n\nThis project is used to keep an audit trail of Hubot activities in Elasticsearch.\n\n## Getting Started\n  * [Usage](#usage)\n\t* [Overview](#overview)\n  * [License](#license)\n  * [Contribute](#contribute)\n\n## Usage\n\nSteps for adding this to your hubot:\n\n1. cd into your hubot directory\n2. Install this package via `npm install hubot-ibmcloud-audit --save`\n3. Add `hubot-ibmcloud-audit` to your external-scripts.json\n4. Add the necessary environment variables:\n\n`HUBOT_AUDIT_ENDPOINT`=location of Elasticsearch\n\n## Overview\n`hubot-ibmcloud-audit` captures both incoming adapter traffic and outgoing HTTP traffic (to other sites and services). Incoming adapter traffic is captured in an type of `AdapterLogEntry` with an index of `hubotadapterrequest`.  The incoming adapter traffic is captured by hooking into the Hubot framework via a [Hubot middleware listener](https://github.com/github/hubot/blob/master/docs/scripting.md#listener-middleware). Logic has been added to the listener so that even if there are multiple matches the input will only be logged once.  \n\nThe information captured includes:\n* UUID, spaceid, and groupid:  These are applicable to a hubot running inside a docker container.  They will default to `DEFAULT_UUID`, `DEFAULT_SPACE`, and `DEFAULT_GROUP` if the Hubot is not running inside a container.\n* userName\n* userId (email address)\n* message text\n* room ID\n* adapter name\n* robot name\n* time of the message\n\nThis information is logged to Elasticsearch.  The location of Elasticsearch is determined by the value of the environment variable `HUBOT_AUDIT_ENDPOINT`.   `HUBOT_BLUEMIX_AUDIT_DISABLED` can also be set to true to disable all auditing (both of incoming adapter and outgoing HTTP traffic).\n\nOutgoing HTTP traffic is captured by hooking into Node's default http and https modules by using the [global-request-logger package](https://github.com/meetearnest/global-request-logger).  It is captured in a type of `HttpLogEntry` with an index of `hubothttprequest`.  The following information is captured:\n* UUID, spaceid, and groupid: Again, only applicable to a hubot running inside a docker container.  Otherwise they default to `DEFAULT_UUID`, `DEFAULT_SPACE`, and `DEFAULT_GROUP`.\n* protocol\n* URL\n* host\n* method\n* time of outgoing request\n* response status code\nIn order to prevent an infinite logging loop, traffic to the Elasticsearch `HUBOT_AUDIT_ENDPOINT` is not logged.  Traffic to 'api.slack.com/api' is also not logged.\n\nThere is one additional piece to hubot-ibmcloud-audit that allows it to play nice with [hubot-ibmcloud-nlc](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-nlc).  Because `hubot-ibmcloud-nlc` bypasses the normal listener middleware path, `hubot-ibmcloud-audit` reacts to an emit on `ibmcloud-nlc-to-audit` and logs the incoming adapter traffic when it receives that.\n\n## License\n\nSee [LICENSE.txt](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit/blob/master/LICENSE.txt) for license information.\n\n## Contribute\n\nPlease check out our [Contribution Guidelines](https://github.com/ibm-cloud-solutions/hubot-ibmcloud-audit/blob/master/CONTRIBUTING.md) for detailed information on how you can lend a hand.\n","maintainers":[{"name":"ibmmobilecloud","email":"mobilec@us.ibm.com"}],"time":{"modified":"2016-08-17T17:39:26.041Z","created":"2016-08-02T19:39:20.421Z","0.0.11":"2016-08-02T19:39:20.421Z","0.0.12":"2016-08-04T21:19:32.493Z","0.0.13":"2016-08-08T15:20:51.570Z","0.0.14":"2016-08-15T19:45:58.670Z","0.0.15":"2016-08-16T15:41:39.820Z","0.0.16":"2016-08-17T15:01:13.584Z","0.0.17":"2016-08-17T17:39:26.041Z"},"keywords":["hubot","hubot-scripts","bluemix","cloud","slack","audit","ibm","ibm cloud"],"author":{"name":"ibm-cloud-solutions"},"license":"Apache-2.0","readmeFilename":"README.md"}
