{"_id":"hubot-schtasks","_rev":"2-c4b935593d2abf5a9d2220007a6c53da","name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems. Replies can be customized to fully integrate with your favourite chat, with Slack supported out-of-the-box.","dist-tags":{"latest":"1.1.0"},"versions":{"0.0.1":{"name":"hubot-schtasks","description":"Lists, starts and stops Windows scheduled tasks","version":"0.0.1","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/hubot-scripts/hubot-schtasks.git"},"bugs":{"url":"https://github.com/hubot-scripts/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3","csv-parse":"^0.1.0","async":"^0.9.0"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"da1eba473c7016188603fa02a1995ce671188d86","homepage":"https://github.com/hubot-scripts/hubot-schtasks","_id":"hubot-schtasks@0.0.1","_shasum":"b3a991626094cfedf6f0426b17fe79117d0b2756","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"b3a991626094cfedf6f0426b17fe79117d0b2756","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-0.0.1.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"0.0.2":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop Windows scheduled tasks (works only on a Windows machine)","version":"0.0.2","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"8bc4cb343c238bb6156eaf3400b9645ca6382d0f","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@0.0.2","_shasum":"aa64cf1149f1079957bb090a56a22a65ed33fe11","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"aa64cf1149f1079957bb090a56a22a65ed33fe11","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-0.0.2.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"0.0.3":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop Windows scheduled tasks (works only on a Windows machine)","version":"0.0.3","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"d06b2e914242ffa408f5cb1d7f3e6e94c1a09644","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@0.0.3","_shasum":"3ffc1b0a5cb68b543ea41cdb7b69cfb39f9cb27f","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"3ffc1b0a5cb68b543ea41cdb7b69cfb39f9cb27f","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-0.0.3.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.0.0":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems","version":"1.0.0","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"bd746feaabbd1d764db2ea89c0729299c980483b","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.0.0","_shasum":"f88abfa03e3d765c56cb6ee255263c397175f408","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"f88abfa03e3d765c56cb6ee255263c397175f408","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.0.0.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.0.1":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems","version":"1.0.1","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"5c80a5a1a3bb8036974a74db42daac1772ee2582","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.0.1","_shasum":"d0f0c11db7559f97cb35fc17acb7b7c76d8cb526","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"d0f0c11db7559f97cb35fc17acb7b7c76d8cb526","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.0.1.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.0.2":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems","version":"1.0.2","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"7cf94f17041ca034e370b177b3ea2dd7f9d15056","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.0.2","_shasum":"f0dac02a992845defe87d0a01d7a695b5baf60ff","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"f0dac02a992845defe87d0a01d7a695b5baf60ff","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.0.2.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.0.3":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems","version":"1.0.3","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2","tedious":"^1.11.0"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"d04f95532719795a6a209fc19dc76f76329e7ea2","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.0.3","_shasum":"9bf6e4c16a248ad3c90b06ba87b96e186d17feaf","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"9bf6e4c16a248ad3c90b06ba87b96e186d17feaf","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.0.3.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.0.4":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems","version":"1.0.4","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler","SQL Server Agent","SqlAgent"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2","tedious":"^1.11.0"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"10a40784afd07d8b65afdb284b7fa87dd4666aac","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.0.4","_shasum":"b20491fd352aaa959d8357df4bf4b0d1ae85d5e8","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"b20491fd352aaa959d8357df4bf4b0d1ae85d5e8","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.0.4.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]},"1.1.0":{"name":"hubot-schtasks","description":"A hubot script that can list, start and stop task on different scheduling systems. Replies can be customized to fully integrate with your favourite chat, with Slack supported out-of-the-box.","version":"1.1.0","author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","windows","task scheduler","SQL Server Agent","SqlAgent","Slack"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"dependencies":{"coffee-script":"~1.6","csv-parse":"^0.1.0","async":"^0.9.0","config":"~1.12.0","moment":"^2.10.2","tedious":"^1.11.0"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"9c19641657af05eb3e1cffcc9b6cc65a86f633fa","homepage":"https://github.com/MatteoSp/hubot-schtasks","_id":"hubot-schtasks@1.1.0","_shasum":"27ca131b80b25d171105190425062132339ab957","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"matteosp","email":"mspreafico@gmail.com"},"dist":{"shasum":"27ca131b80b25d171105190425062132339ab957","tarball":"http://registry.npmjs.org/hubot-schtasks/-/hubot-schtasks-1.1.0.tgz"},"maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}]}},"readme":"# hubot-schtasks\r\n\r\nA hubot script that can list, start and stop task on different scheduling systems. Replies can be customized to fully integrate with your favourite chat, with Slack supported out-of-the-box.\r\n\r\n## Installation\r\n\r\nIn hubot project repo, run:\r\n\r\n`npm install hubot-schtasks --save`\r\n\r\nThen add **hubot-schtasks** to your `external-scripts.json`:\r\n\r\n```json\r\n[\"hubot-schtasks\"]\r\n```\r\n\r\n## Sample Interaction\r\n\r\n```\r\nuser1>> hubot st\r\nhubot>> \r\ntask_1 (status: Ready). Last run: 10/04/2015 01:00:00 (result: 0), next: 11/04/2015 01:00:00.\r\ntask_2 (status: Running). Last run: 10/04/2015 14:00:00 (result: 0), next: 11/04/2015 01:30:00.\r\n```\r\n\r\n```\r\nuser1>> hubot st run task_1 on host_A\r\nhubot>> task_1 started\r\n```\r\n\r\n```\r\nuser1>> hubot st end task_2 on host_B\r\nhubot>> task_2 stopped\r\n```\r\n\r\n## Configuration\r\n\r\nConfiguration is based on `config` module (see http://github.com/lorenwest/node-config). An example: \r\n```\r\n{\r\n    \"hubot_schtasks\": {\r\n        \"skipSystemTasks\": true,\r\n        \"hosts\": [{\r\n            \"type\": \"WinScheduler\",\r\n            \"name\": \"MyServer\",\r\n            \"host\": \"myServer.myDomain.pri\",\r\n            \"user\": \"username\",\r\n            \"pwd\": \"password\"\r\n        }, {\r\n            \"type\": \"SqlAgent\",\r\n            \"name\": \"MySqlServer\",\r\n            \"host\": \"mySqlServer.myDomain.pri\",\r\n            \"user\": \"username\",\r\n            \"pwd\": \"password\",\r\n            \"instanceName\": \"myInstance\" /*optional*/\r\n        }]\r\n    }\r\n}\r\n```\r\n\r\n## Responders\r\n\r\nThe script does not directly send replies. It relies on components - responders - that receive tasks data, compose responses and send them to the chat users or channels. Currently there are 2 out-of-the-box responders: one for Slack and one for the Shell. Other responders will come or - hopefully - contributed. \r\n\r\nWithout specific configuration the script will choose the respoder by checking the adapter the robot is working on. To force one specific respoder you can specify it by:\r\n\r\n```\r\n{\r\n    \"hubot_schtasks\": {\r\n        \"skipSystemTasks\": true,\r\n        \"responder\": {\r\n            \"type\": \"Shell\"    \r\n        },\r\n        \"hosts\": [\r\n            /* ... */\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nOr you can use your custom responder, take a look at the following code. It's a customized version of the native Slack responder, in whick I specifiy my customer emoji to quickly recognize host types.\r\n\r\n```\r\n'use strict';\r\n\r\nvar util =  require('util'),\r\n    baseModule =  require('hubot-schtasks/lib/responders/Slack');\r\n\r\nfunction CustomSlackResponder(options) {\r\n    this.options = options || {};\r\n\r\n    this.base = new baseModule.responder(this.options);\r\n}\r\n\r\nCustomSlackResponder.prototype = {\r\n    sendTaskList: function(msg, targets, tasks) {\r\n        this.base.sendTaskList(msg, targets, tasks);\r\n    },\r\n\r\n    sendHostList: function(msg, hosts) {\r\n        console.log(msg.robot.adapterName);\r\n\r\n        var output = '',\r\n            hostAddress, emojy;\r\n\r\n        hosts.forEach(function(item, index, array) {\r\n            hostAddress = item.host;\r\n\r\n            if (item.instanceName) {\r\n                hostAddress += '\\\\' + item.instanceName;\r\n            }\r\n\r\n            if (item.type == 'WinScheduler') {\r\n                emojy = 'task_scheduler';\r\n            } else if (item.type == 'SqlAgent') {\r\n                emojy = 'sql_server';\r\n            } else {\r\n                emojy = 'question';\r\n            }\r\n\r\n            output += util.format('\\r\\n:%s: %s: %s @ %s.', emojy, item.name, item.type, hostAddress);\r\n        });\r\n\r\n        msg.reply(output);    \r\n    },\r\n\r\n    sendError: function(msg, err) {\r\n        this.base.sendError(msg, err);\r\n    },\r\n\r\n    sendStartStop: function(msg, taskName, action) {\r\n        this.base.sendStartStop(msg, taskName, action);\r\n    }\r\n};\r\n\r\nmodule.exports =  {\r\n    responder: CustomSlackResponder\r\n};\r\n```\r\n\r\nTo configure your custom responder put in a file within the `config` folder, then configure it by specifying the file name in the `type` attribute. So if you named your file `CustomSlack.js`:\r\n\r\n```\r\n{\r\n    \"hubot_schtasks\": {\r\n        \"skipSystemTasks\": true,\r\n        \"responder\": {\r\n            \"type\": \"CustomSlack\"    \r\n        },\r\n        \"hosts\": [\r\n            /* ... */\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n## Mini roadmap\r\n- Support for Linux cron\r\n- Some task update facilities (enable/disable, change triggers, etc)\r\n","maintainers":[{"name":"matteosp","email":"mspreafico@gmail.com"}],"time":{"modified":"2015-10-06T21:44:23.073Z","created":"2015-04-10T21:04:02.794Z","0.0.1":"2015-04-10T21:04:02.794Z","0.0.2":"2015-04-10T21:15:20.195Z","0.0.3":"2015-04-24T11:59:55.759Z","1.0.0":"2015-04-26T22:37:25.775Z","1.0.1":"2015-04-26T22:41:27.422Z","1.0.2":"2015-05-13T08:01:16.209Z","1.0.3":"2015-07-30T08:11:06.446Z","1.0.4":"2015-08-05T12:54:51.027Z","1.1.0":"2015-10-06T21:44:23.073Z"},"homepage":"https://github.com/MatteoSp/hubot-schtasks","keywords":["hubot","hubot-scripts","windows","task scheduler","SQL Server Agent","SqlAgent","Slack"],"repository":{"type":"git","url":"git://github.com/MatteoSp/hubot-schtasks.git"},"author":{"name":"MatteoSp","email":"mspreafico@gmail.com"},"bugs":{"url":"https://github.com/MatteoSp/hubot-schtasks/issues"},"license":"MIT","readmeFilename":"README.md"}
