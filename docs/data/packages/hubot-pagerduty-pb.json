{"_id":"hubot-pagerduty-pb","_rev":"2-79834a60e35cb8775cee5f9f97f7a658","name":"hubot-pagerduty-pb","description":"Hubot script. Interacts/integrates with PagerDuty API.","dist-tags":{"latest":"0.0.4"},"versions":{"0.0.3":{"name":"hubot-pagerduty-pb","description":"Hubot script. Interacts/integrates with PagerDuty API.","version":"0.0.3","author":{"name":"Hotel Tonight, forked and modified by buckmeisterq@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","pagerduty"],"repository":{"type":"git","url":"git://github.com/dx-pbuckley/hubot-pagerduty.git"},"bugs":{"url":"https://github.com/dx-pbuckley/hubot-pagerduty/issues"},"dependencies":{},"peerDependencies":{"hubot":">= 2.3.0"},"main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"gitHead":"ca6fda4540868795aa7c5c7d8cdf8231e45b156d","homepage":"https://github.com/dx-pbuckley/hubot-pagerduty#readme","_id":"hubot-pagerduty-pb@0.0.3","_shasum":"a3eda0f6d9fe51f3da125d35231f89ca219d8e42","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.10.0","_npmUser":{"name":"pbuckleyofnpm","email":"buckmeisterq@gmail.com"},"dist":{"shasum":"a3eda0f6d9fe51f3da125d35231f89ca219d8e42","tarball":"https://registry.npmjs.org/hubot-pagerduty-pb/-/hubot-pagerduty-pb-0.0.3.tgz"},"maintainers":[{"name":"pbuckleyofnpm","email":"buckmeisterq@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-pagerduty-pb-0.0.3.tgz_1505344504924_0.8865037297364324"}},"0.0.4":{"name":"hubot-pagerduty-pb","description":"Hubot script. Interacts/integrates with PagerDuty API.","version":"0.0.4","author":{"name":"Hotel Tonight, forked and modified by buckmeisterq@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","pagerduty"],"repository":{"type":"git","url":"git://github.com/dx-pbuckley/hubot-pagerduty.git"},"bugs":{"url":"https://github.com/dx-pbuckley/hubot-pagerduty/issues"},"dependencies":{},"peerDependencies":{"hubot":">= 2.3.0"},"main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"gitHead":"476adc6ad4047cf144028b185b9cc97533131dbc","homepage":"https://github.com/dx-pbuckley/hubot-pagerduty#readme","_id":"hubot-pagerduty-pb@0.0.4","_shasum":"153630e9535385f9fcff334d85670a4fc4a42456","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.10.0","_npmUser":{"name":"pbuckleyofnpm","email":"buckmeisterq@gmail.com"},"dist":{"shasum":"153630e9535385f9fcff334d85670a4fc4a42456","tarball":"https://registry.npmjs.org/hubot-pagerduty-pb/-/hubot-pagerduty-pb-0.0.4.tgz"},"maintainers":[{"name":"pbuckleyofnpm","email":"buckmeisterq@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-pagerduty-pb-0.0.4.tgz_1505345412523_0.36519229551777244"}}},"readme":"A PagerDuty Hubot Module\n-------------------------\n\n[PagerDuty](http://www.pagerduty.com) is a service that aggregates your\nalerting systems and routes them. For example, you can get an alert from nagios\nthat goes to your Operations team, and another from Airbrake that gets sent to\nyour devs.\n\nWhat this script does is integrate your\n[Hubot](https://github.com/github/hubot) with the [PagerDuty\nAPI](http://developer.pagerduty.com/).\n\nIt provides a few features:\n\n* Ability to retrieve oncall rotation list for the current time\n* Poll for incoming incidents and send a message to an \"incident room\" (e.g., the Operations or Dev Team Rooms) with details.\n* Ability to interrogate, resolve and acknowledge incidents right from chat.\n* Ability to set override windows.\n\nMore features are coming. This was initially developed in house to scratch an\nitch, and others have expressed interest in making use of it.\n\nRequirements and Installation\n-----------------------------\n\nAdd `hubot-pagerduty` to your hubot's package.json and `npm install`.\n\nThen, copy `node_modules/hubot-pagerduty/src/load_pagerduty.coffee` into your\nhubot's scripts/ directory. You will only need to do this once, and will let\nyou keep current with new updates.\n\nYou will also need to create a `pagerdutyrc` at the root of your hubot's path.\nThis is a JSON object and consists of a few fields:\n\n* `token`: the API token you will use\n* `api_subdomain`: the pagerduty subdomain. If you use `foo.pagerduty.com` to login, this will be `foo`.\n* `schedules`: this is an array of two-element arrays. Position 0 is the\n  schedule name, and position 1 is the schedule ID. If you go to the pagerduty\n  website and look at a schedule, this will be the 6 digit alphanumeric code in\n  the URL.\n* `incident_room`: this is room ID to send notifications on incoming alerts, and will be specific to your chat medium.\n* `urgent_page_service_key`: See \"Urgent Page Facility\" section below.\n* `user_map`: a mapping of chat usernames to pagerduty identifiers. Set 'Shell'\n  for local testing (that will be the username there). Used in a few commands.\n\nThis is parsed with `JSON.parse` which does not allow comments. You've been warned!\n\nYour file should look something like this:\n\n```\n{\n    \"token\": \"a_big_string_of_characters\",\n    \"schedules\": [\n      [ \"Level 1\", \"ABCDEFG\" ],\n      [ \"Level 2\", \"HIJKLMN\" ],\n      [ \"Level 3\", \"OPQRSTU\" ],\n      [ \"Level 4\", \"VWXYZ12\" ]\n    ],\n    \"incident_room\": \"1234_xyz@conf.hipchat.com\",\n    \"api_subdomain\": \"mommas-basement\",\n    \"urgent_page_service_key\": \"1231231231231231231231\",\n    \"user_map\": {\n      \"erikh\": \"WAKKAWAK\",\n      \"Shell\": \"WAKKAWAK\",\n      \"chris\": \"123DEFAB\"\n    }\n}\n```\n\n**(Note to irc users, you will have issues unless you use at least hubot 2.4.7\nand hubot-irc 0.1.10)**\n\nUrgent Page Facility\n--------------------\n\nThe \"Urgent Page Facility\" allows anybody capable of talking to hubot to create\na new incident. This can be extremely useful when non-technical staff who\ninteract with the hubot need to alert Operations personnel and your monitoring\nsystem is not catching the issue.\n\nTo configure this, you need a \"service key\" from PagerDuty. To create this:\n\n* Click on the \"Services\" tab in the PagerDuty UI at the top.\n* Click on \"Add a New Service\"\n* Name your service and select the escalation policy these pages will route to.\n* Under \"Service Type\", select \"Generic API Service\".\n* Submit the Form.\n\nOn the page that appears next you will see a listing for a \"service key\", which\nis a big string of numbers. That's the value you need to put in your\n`pagerdutyrc` under `urgent_page_service_key`.\n\nAuthors\n-------\n\nHotel Tonight (www.hoteltonight.com) whipped this up. See the LICENSE file for\ndistribution details.\n\nContributing\n------------\n\n* Fork the project\n* Make your changes.\n  * Metadata changes such as to the license and authorship information will be\n    rejected regardless how good your patch is.\n* Send a pull request to this repository with a friendly hello.\n* Have a beer.\n","maintainers":[{"name":"pbuckleyofnpm","email":"buckmeisterq@gmail.com"}],"time":{"modified":"2017-09-13T23:30:13.407Z","created":"2017-09-13T23:15:05.822Z","0.0.3":"2017-09-13T23:15:05.822Z","0.0.4":"2017-09-13T23:30:13.407Z"},"homepage":"https://github.com/dx-pbuckley/hubot-pagerduty#readme","keywords":["hubot","hubot-scripts","pagerduty"],"repository":{"type":"git","url":"git://github.com/dx-pbuckley/hubot-pagerduty.git"},"author":{"name":"Hotel Tonight, forked and modified by buckmeisterq@gmail.com"},"bugs":{"url":"https://github.com/dx-pbuckley/hubot-pagerduty/issues"},"license":"MIT","readmeFilename":"README.md"}
