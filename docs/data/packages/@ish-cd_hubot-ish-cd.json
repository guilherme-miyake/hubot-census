{"_id":"@ish-cd/hubot-ish-cd","_rev":"3-557da2b6d78fc7ac6e0ca03ac75ec9a4","name":"@ish-cd/hubot-ish-cd","dist-tags":{"latest":"1.0.0-beta.8"},"versions":{"1.0.0-beta.6":{"name":"@ish-cd/hubot-ish-cd","version":"1.0.0-beta.6","description":"Trigger custom workflow operations in chat via Ish - Continuous Delivery.","main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot-scripts","hubot","ish","continuous delivery"],"author":{"name":"iamEAP"},"license":"MIT","dependencies":{"@ish-cd/api-client":"^1.0.0-alpha.8","fernet":"^0.3.0","hubot-conversation":"^1.1.1"},"gitHead":"dc1ae2e63869e141fa724e28cb6139b885d4d448","_id":"@ish-cd/hubot-ish-cd@1.0.0-beta.6","_npmVersion":"5.7.1","_nodeVersion":"6.10.3","_npmUser":{"name":"iameap","email":"i.am@eric.pe"},"dist":{"integrity":"sha512-ZbLAY8N9GndwK3EJYcD7OxggE8lDSv3WhZ47ks77h3TDPUwZx4amJFglcyOnSJjOAa3Vld/z2K2H9V36pFSGmg==","shasum":"8c3d62853b3b727a1eb78f8a1031ad93aea3d12c","tarball":"https://registry.npmjs.org/@ish-cd/hubot-ish-cd/-/hubot-ish-cd-1.0.0-beta.6.tgz","fileCount":6,"unpackedSize":15393,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbKb0yCRA9TVsSAnZWagAAaf4P/1fcvBqUor0BUje6rfmc\nOPX4Qu4mXuPsDMgeVRUvMcHf0JaLwxtsA237sdYbJYkVVSebXw4OKFjRYM8V\ndeOq/a6PhL84HIMYYLdfItwuUG4vtEsMAM0EZ0bhes2XOVHwiLzmHdlIgJUJ\naY1rZfgKTgbNWxDT1GRPCdrwLkLiGLeIrmhIsE+bpnDRQRiXVcgNLh9vGUIk\nkFMIDxkSViqLO5vaybHfbPJZ+BjSrtdlJsxTAh57oFWqQd+bI+YDdkHPNTCM\nfH2efJ1NEzYNYVi0QZzDfISJp+ZstrD44KtdtJd16BCyVN/Vz1JPlk3g2Cs4\nfE9Shs/yeE2T9T/sPNM1nYPe/X1acXbrnW/pVkLD+0isYhjKIP04o/xs9p/X\ntIUBVhhyBbvu/LJe9BouxlWnSXs7SrcvRgF1E46Rar/uSvKOU3We9D246tLP\n1xoAyg17VSfXXYtSC7TCzLwME7cePm231pC0KwKfvkWXxnEiRMlMRmhGKlct\nc8pNzsiogzK51DYgDqDpSGn9ZSZD0MBj+zx4fZb6dHu5WOJfpK/xSI9ELyBw\n2/UM7L6+9X4Hvn5e6PrGKidrc9qqPpKJG7YtXvu1hI6sbWN2qjB+wkdp0f33\n9yjZlP1K4A10TvE/Ur+UQkU4comltT24gimWdiOfreKKTQlFTzsD93H8eX1P\nnW9r\r\n=rRr/\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"iameap","email":"i.am@eric.pe"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-ish-cd_1.0.0-beta.6_1529462065813_0.8662357308369877"},"_hasShrinkwrap":false},"1.0.0-beta.7":{"name":"@ish-cd/hubot-ish-cd","version":"1.0.0-beta.7","description":"Trigger custom workflow operations in chat via Ish - Continuous Delivery.","main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot-scripts","hubot","ish","continuous delivery"],"author":{"name":"iamEAP"},"license":"MIT","dependencies":{"@ish-cd/api-client":"^1.0.0-alpha.8","fernet":"^0.3.0","hubot-conversation":"^1.1.1"},"gitHead":"db5303a88861c5e3c67e4d14f8f6938b207590e2","_id":"@ish-cd/hubot-ish-cd@1.0.0-beta.7","_npmVersion":"5.7.1","_nodeVersion":"6.10.3","_npmUser":{"name":"iameap","email":"i.am@eric.pe"},"dist":{"integrity":"sha512-Moem9DPQTUnRlKkNU0f7VQA64y4485oKHzgEZWedvwT6FnfNHLwPj/zx6LCFOBW+Qqj5r1459ugA0vqObF/Zrg==","shasum":"64fb803bb9262ea64a61f24c881cee702735e181","tarball":"https://registry.npmjs.org/@ish-cd/hubot-ish-cd/-/hubot-ish-cd-1.0.0-beta.7.tgz","fileCount":6,"unpackedSize":15391,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbKb+KCRA9TVsSAnZWagAAnhYP/0+2z5TbU3DO8CeQ5dj+\nXNDHZ7agi370mO9Ij5NnxVzq+I/Xy9+s9jIVdwCrclegNOhe+fSLnB3NbBDV\nAMPhc2Usm+oF6Q4BbEe2O5gnaPGDjWNtVeqYJJqraGm0RZQUn9vUv/TbrIXX\npfP85hNyaX/0FTYj0zsLgtHORZKxJZOSMHEUsuvnWIYZaY4BZJ1unC6EEqZg\nssc9i96BIL+6/eHaibK8dStWPrsnPEIBzpfRd8TSAlv1AGAUQ4nwDOVYcKvp\nlZfQidcxTho77wSYmk/DSbF+lt86Sjwt47A1MrpeX0mbfP5a5MBznRyWP74J\nKimVQtEsMaMYKA6omVhMTNi8j4YBj/DbyuxnWCr0DcfoIpkklWzQ3mX+aa+l\n21cq2sJWZzOwn/lJA0xvV+ss27+v13xHDEd/bVuZaiRinsOYxxJlP71ay6jh\nykYIPgB0A2mDMcCQUzAJcS4vu6xI2A3Caqz0Agtbbmvzfb61NQqQIHBoLETH\nzVyrsK3cRdXxpeBa4LJTfUdwOHxIBHX77dsz6ChYy7+3Wgcj+4QmJrjSAsfA\nTkniBsAkbNsdj+r++XOUolbD3mVcMpWp2q6U7OlsLg2adzU4r3AFlp+ByZ/H\nyNng1PYeysNdAlvNVQ17z3F8U1oC4/5m2ZD/2ftGz1HQ20nsL6LWf2yLyo0d\nJoRe\r\n=ufDf\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"iameap","email":"i.am@eric.pe"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-ish-cd_1.0.0-beta.7_1529462666193_0.2308038861976358"},"_hasShrinkwrap":false},"1.0.0-beta.8":{"name":"@ish-cd/hubot-ish-cd","version":"1.0.0-beta.8","description":"Trigger custom workflow operations in chat via Ish - Continuous Delivery.","main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot-scripts","hubot","ish","continuous delivery"],"author":{"name":"iamEAP"},"license":"MIT","dependencies":{"@ish-cd/api-client":"^1.0.0-alpha.8","fernet":"^0.3.0","hubot-conversation":"^1.1.1"},"gitHead":"b215f391583a95c0fc2199b76d9f3071ea5dfb5f","_id":"@ish-cd/hubot-ish-cd@1.0.0-beta.8","_npmVersion":"5.7.1","_nodeVersion":"6.10.3","_npmUser":{"name":"iameap","email":"i.am@eric.pe"},"dist":{"integrity":"sha512-R+CRRyFsYBTQKdHHYYNYMCLLN1mu0SQQiIfWI17mWQMAWxNlsFZ3HkIB7wzTFRiavca5ciOd2WgVPvDkHsLM0Q==","shasum":"f71d92fa54bbe9e28fe0b8f556ac17db3f4f1a97","tarball":"https://registry.npmjs.org/@ish-cd/hubot-ish-cd/-/hubot-ish-cd-1.0.0-beta.8.tgz","fileCount":6,"unpackedSize":15392,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbKcKDCRA9TVsSAnZWagAAyYYP/2KZuCk5L48M2tc4tsd9\nLM6/kvDMZSnCT3uNxs7hDX9HeCSmnwUHnSGVfgCaNIiXEm5/3Xfk/j3wv00h\nkS67UeRsGnl7CZgq3XjSe3CeLAWMLwR4wKRXA8tG304yboKBfj+eUlOLG5+7\ndO7LgfMTtP/1CuGJqcggXWMiJUZUW00X7hWWPNUN0vZOF3PspYvo3peesg8F\nV9OdC5XrZ9oSjqI97BTYxuOWSpVV+WWhl+YqNeCO0iY5LgSldcf8XqdSkif2\nCzlCPbXlUExjQRN/inA41tKs1Xhi9G6Lu05NSWyewTaHv1+QD4yZ3sFt2aAx\nkz352ObrYAtWyxqYGOILtCILAB5Bym8uLQlynXkIlsTUVo2+QsU7aymkS3yb\nZCM9qFby2B3WRGqV8VQkgDAE+bOtWoDh/BNQgoIRmLNqXAR/dPmotrvENsM9\nduVF2dUAMUjd4U6QS+US+Fmj+EmGw4N/97YjjdfsvgJ6TASUqsrRKMD3Q+wz\nIMwFt/S3qac7YPyqgvDK0KZTcCaFk8DbEzdIC8d6x69pb9gnJQVLNP6EeDIf\nwYK3BQ2Xmb1wpitptB8BvrG/5aiQGvPGK1ExebD2883W3ngAN9qBZrq9jysW\nbZcSq2MPAzEgWAcxIqDRNvyIOd49k76xYaCgHKMZeTdt+sC1eXs2OXG9Tv1c\nk8x7\r\n=Z48d\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"iameap","email":"i.am@eric.pe"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-ish-cd_1.0.0-beta.8_1529463426778_0.10902444275534773"},"_hasShrinkwrap":false}},"time":{"created":"2018-06-20T02:34:25.588Z","1.0.0-beta.6":"2018-06-20T02:34:25.890Z","modified":"2019-03-31T05:57:45.854Z","1.0.0-beta.7":"2018-06-20T02:44:26.289Z","1.0.0-beta.8":"2018-06-20T02:57:06.829Z"},"maintainers":[{"email":"martinkeereman@gmail.com","name":"etroid"},{"email":"i.am@eric.pe","name":"iameap"}],"description":"Trigger custom workflow operations in chat via Ish - Continuous Delivery.","keywords":["hubot-scripts","hubot","ish","continuous delivery"],"author":{"name":"iamEAP"},"license":"MIT","readme":"# hubot-ish-cd\n\nBase package for triggering Ish CD jobs via Hubot. Features include:\n\n- Encrypted storage for Ish CD API Tokens in Hubot's brain\n- Job running and list support\n- API for running commands in your custom Hubot scripts\n\nSee [`src/ish-cd.coffee`](src/ish-cd.coffee) for full documentation.\n\n## Installation\n\nIn hubot project repo, run:\n\n`npm install @ish-cd/hubot-ish-cd --save`\n\nThen add **@ish-cd/hubot-ish-cd** to your `external-scripts.json`:\n\n```json\n[\"@ish-cd/hubot-ish-cd\"]\n```\n\n## Configuration\n\n- `HUBOT_ISH_CD_TOKEN_FERNET_SECRETS` - The key used for encrypting your\n  tokens in the Hubot's brain. A comma delimited set of different key tokens.\n  To create one run `dd if=/dev/urandom bs=32 count=1 2>/dev/null | openssl base64`\n  on a UNIX system.\n- `HUBOT_ISH_CD_DEFAULT_PROJECT` - Optional. An Ish CD project-ish (project\n  ID or project machine name) that will be used when running jobs if no project\n  is provided. Recommended unless you use multiple/many Ish CD projects.\n- `HUBOT_ISH_CD_DEFAULT_API_TOKEN` - Optional. An Ish CD API token that, if\n  set, is used when a user with no API token set attempts to run an Ish CD job.\n  Only set this if you need to.\n\n## Usage\n\nFor complete and up-to-date usage details, type the following in your chat\nclient `hubot help ish` and check the \"Sample Interaction\" section\nbelow.\n\nCommon commands include:\n- `hubot ish set token {Ish CD api token}` - Intended for private chat\n  with the bot, this command stores a user's Ish CD API token in Hubot's\n  brain (encrypted) so that jobs run by the user leverage the user's Ish CD\n  credentials and permissions.\n- `hubot ish list jobs` - Shows a list of jobs that can be run.\n- `hubot ish run job {job name}` - Runs a job. If the job includes\n  required or optional variables, Hubot will ask for those details.\n\n## API\n\nThis package adds functionality to `robot` that allows you to easily build\ncustom commands that trigger Ish CD jobs:\n\n```coffeescript\n# Listen for the phrase \"deploy to test\"\nrobot.hear /^deploy to test$/i, (msg) ->\n  # Trigger the \"deploy-to-test\" job on \"my-project\"\n  robot.ish.run(msg, 'my-project', 'deploy-to-test').then (result) ->\n    msg.send result.data.log\n```\n\nThe function signature for `robot.ish.run` is like so:\n\n```javascript\n/**\n * Triggers a job run for a given project on Ish CD using the user on the\n * provided msg.\n * \n * @param msg\n *   The res/msg object that is provided as the first argument to robot.hear's\n *   callback. Used to determine the user and retrieve their token.\n * \n * @param {String} project\n *   The machine name (or ID) of the Ish CD project associated with the job\n *   you wish to run. If none is provided (null), the value of the environment\n *   variable HUBOT_ISH_CD_DEFAULT_PROJECT will be used.\n * \n * @param {String} job\n *   The machine name (or ID) of the ISH CD job you wish to run.\n *\n * @param {Object} vars\n *   An optional key/value pair of variables to send as context for your job\n *   run. Defaults to an empty object.\n *\n * @param {Boolean} waitForResponse\n *   An optional boolean indicating whether the run should be synchronous\n *   (meaning, wait completely for the job run to execute so that the run's log\n *   can be read and/or printed), or asynchronous (meaning, don't wait for\n *   job execution, just wait for it to be queued). Defaults to true.\n *   \n * @return Promise\n *   If waitForResponse is true, this will resolve with the executed job run\n *   once complete. If waitForResponse is false, this will resolve as soon as\n *   the job run is successfully queued.\n */\nfunction run(msg, project, job, vars, waitForResponse) {}\n```\n\n## Notes\n\nMost of this code was extracted from [hubot-gh-token](https://github.com/hubot-scripts/hubot-gh-token)\n, which uses code from [hubot-deploy](https://github.com/atmos/hubot-deploy),\nwhich uses code from [hubot-vault](https://github.com/ys/hubot-vault).\n\nThis script is similar to\n[hubot-github-identity](https://github.com/tombell/hubot-github-identity) but\nallows users to set tokens in chat instead of through Hubot's http listener.\n\n## Sample Interaction\n\n```\nuser1>> hubot ish token set eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e30.t-IDcSemACt8x4iTMCda8Yhe3iZaWbvV5XKSTbuAn0M\nhubot>> Your Ish CD API token is valid. I stored it for future use.\nuser1>> hubot ish token verify\nhubot>> Your Ish CD API token is valid.\nuser1>> hubot ish list jobs\nhubot>> Create Multidev (create-multidev)\n        Deploy to Prod (deploy-to-prod)\nuser1>> hubot ish run create-multidev\nhubot>> What should MULTIDEV_NAME be set to?\nuser1>> my-feat\nhubot>> Okay, lemme see what I can do.\nhubot>> Looks to have gone smoothly! Here's what I heard back:\nhubot>> ................................\n        [2017-10-05 20:04:07] [info] Created Multidev environment \"my-feat\"\nuser1>> hubot ish token reset\nhubot>> I nuked your Ish CD API token. You may not be able to run Ish CD jobs until you set another token.\n```\n","readmeFilename":"README.md"}