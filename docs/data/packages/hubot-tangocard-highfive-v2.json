{"_id":"hubot-tangocard-highfive-v2","_rev":"4-1e416e2b3f40f45026b14383de6ca1a4","name":"hubot-tangocard-highfive-v2","description":"Hubot plugin for high-fiving and optionally sending gift cards to chat users. This fixes issues in the unmaintained hubot-tangocard-highfive repo.","dist-tags":{"latest":"0.3.2"},"versions":{"0.3.0":{"name":"hubot-tangocard-highfive-v2","version":"0.3.0","description":"Hubot plugin for high-fiving and optionally sending gift cards to chat users (using Tango V2 API)","main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register test/*"},"repository":{"type":"git","url":"git+https://github.com/Gridium/hubot-tangocard-highfive-v2.git"},"keywords":["hubot","hubotscripts","tangocard"],"author":{"name":"Nick Pleis","email":"nick@gridium.com"},"license":"MIT","bugs":{"url":"https://github.com/Gridium/hubot-tangocard-highfive-v2/issues"},"homepage":"https://github.com/Gridium/hubot-tangocard-highfive-v2","devDependencies":{"chai":"^1.10.0","gulp":"^3.8.10","gulp-clean":"^0.3.1","gulp-coffee":"^2.2.0","gulp-coffeelint":"^0.4.0","gulp-mocha":"^2.0.0","gulp-util":"^3.0.1","gulp-watch":"^3.0.0","hubot":"^2.9.3","hubot-mock-adapter":"^1.0.0","mocha":"^2.0.1","nock":"^0.51.0"},"dependencies":{"coffee-script":"^1.8.0","edit-google-spreadsheet":"^0.2.13","ip":"^0.3.2","lodash":"^3.6.0","moment":"^2.8.4"},"gitHead":"2b35b744a8e1ae56d306d3707dd24f413092062a","_id":"hubot-tangocard-highfive-v2@0.3.0","_shasum":"f31b850d273cb46307130a0a0766ae6a2855e0a9","_from":".","_npmVersion":"2.15.11","_nodeVersion":"0.12.18","_npmUser":{"name":"nick.gridium","email":"nick@gridium.com"},"dist":{"shasum":"f31b850d273cb46307130a0a0766ae6a2855e0a9","tarball":"https://registry.npmjs.org/hubot-tangocard-highfive-v2/-/hubot-tangocard-highfive-v2-0.3.0.tgz"},"maintainers":[{"name":"nick.gridium","email":"nick@gridium.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-tangocard-highfive-v2-0.3.0.tgz_1499375671420_0.659727880731225"}},"0.3.2":{"name":"hubot-tangocard-highfive-v2","version":"0.3.2","description":"Hubot plugin for high-fiving and optionally sending gift cards to chat users. This fixes issues in the unmaintained hubot-tangocard-highfive repo.","main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register test/*"},"repository":{"type":"git","url":"git+https://github.com/Gridium/hubot-tangocard-highfive-v2.git"},"keywords":["hubot","hubotscripts","tangocard"],"author":{"name":"Nick Pleis","email":"nick@gridium.com"},"license":"MIT","bugs":{"url":"https://github.com/Gridium/hubot-tangocard-highfive-v2/issues"},"homepage":"https://github.com/Gridium/hubot-tangocard-highfive-v2","devDependencies":{"chai":"^1.10.0","gulp":"^3.8.10","gulp-clean":"^0.3.1","gulp-coffee":"^2.2.0","gulp-coffeelint":"^0.4.0","gulp-mocha":"^2.0.0","gulp-util":"^3.0.1","gulp-watch":"^3.0.0","hubot":"^2.9.3","hubot-mock-adapter":"^1.0.0","mocha":"^2.0.1","nock":"^0.51.0"},"dependencies":{"coffee-script":"^1.8.0","edit-google-spreadsheet":"^0.2.13","ip":"^0.3.2","lodash":"^3.6.0","moment":"^2.8.4"},"gitHead":"107a97106e303e0c6e0add13ff45a6685a2e202e","_id":"hubot-tangocard-highfive-v2@0.3.2","_shasum":"23eae5b48f61866f634b2cc1cbf1d24354f83ee1","_from":".","_npmVersion":"2.15.11","_nodeVersion":"0.12.18","_npmUser":{"name":"nick.gridium","email":"nick@gridium.com"},"dist":{"shasum":"23eae5b48f61866f634b2cc1cbf1d24354f83ee1","tarball":"https://registry.npmjs.org/hubot-tangocard-highfive-v2/-/hubot-tangocard-highfive-v2-0.3.2.tgz"},"maintainers":[{"name":"nick.gridium","email":"nick@gridium.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-tangocard-highfive-v2-0.3.2.tgz_1499379233321_0.43458016333170235"}}},"readme":"# hubot-tangocard-highfive\n\nThis is a [Hubot](https://hubot.github.com/) plugin with two functions:\n\n1. Enable you to publicly high-five someone in the chat room.\n1. Optionally send them a gift card.\n\n## Installation\n\nCreate the NPM dependency:\n\n```shell\n$ npm install hubot-tangocard-highfive --save\n```\n\nAnd tell Hubot to load it on startup by modifying your `external-scripts.json` to look something like this:\n\n```json\n[\n    \"some-plugin\",\n    \"hubot-tangocard-highfive\",\n    \"some-other-plugin\"\n]\n```\n\n## Usage\n\nRun this command in a chat room:\n\n```\nhubot highfive @john for nailing that design\n```\n\nHubot will then send a message to the current room (or a configurable public room, see below) with congratulations and a nice GIF.\nIf configured properly, this command will additionally trigger a gift card to be sent to the high-fived user:\n\n```\nhubot highfive @jane $25 for landing that huge account\n```\n\n## Configuration\n\nFirst, set up `HUBOT_HOSTNAME` to a URL where your hubot can be reached via https. Then run:\n\n```\nhubot highfive config\n```\n\nHubot will give you a link to the configuration page, where a form will help walk you through all the environment variables you need/want to set.\nWhen you're done filling out the form (and optionally submitting the credit-card information), copy the contents of the text area at the bottom, and paste them into a `heroku config` or `export` command-line, so all the values become part of Hubot's environment.\n\nThe basic high-five configuration consists of just three options:\n\n- The chat service (`HUBOT_HIGHFIVE_EMAIL_SERVICE`) helps the plugin figure out how to find the right room to send messages to, and how to format messages properly. If this is set to `slack`, you'll also need to configure `HUBOT_SLACK_API_TOKEN`.\n- The announcement room (`HUBOT_HIGHFIVE_ROOM`)  sets the room in which high-fives are announced. If it's empty, the plugin will just spit messages out to the room it's triggered in.\n- Hubot can eavesdrop (`HUBOT_HIGHFIVE_ALLOW_EAVESDROPPING`) to notice a `highfive @user...` even when Hubot itself isn't directly asked to do the highfive.\n\nYou can add some custom GIFs by specifying `HUBOT_HIGHFIVE_GIFS` to be a set of URLs separated by spaces.\n\n## Tango Card Configuration\n\nThe plugin also has the ability to automatically order gift cards from Tango Card and send them to the target user's email address. To access the Tango Card API, you'll have to go to their [information page](https://www.tangocard.com/giftcardapi) and click the \"Get More Information\" button at the bottom.\n\nOnce you've done that, you'll need to tell the plugin some values:\n\n- The award limit (`HUBOT_HIGHFIVE_AWARD_LIMIT`) sets an upper bound on the size of gift card that can be sent. The default is $150.\n- The daily limit (`HUBOT_HIGHFIVE_DAILY_LIMIT`) sets a limit on how much any single user can give out in a day. The default is $500.\n- The gift card SKU (`HUBOT_TANGOCARD_SKU`) configures which type of gift card you want to send to your team (defaults to an Amazon card if not set.)  You can see the complete list at https://sandbox.tangocard.com/raas/v1/rewards\n- Overriding the Tango Card root URL (`HUBOT_TANGOCARD_ROOTURL`) lets you use the sandbox API for testing (it's at https://sandbox.tangocard.com/raas/v1/). The default is the production endpoint.\n- When you sign up for the Tango Card API, they'll provide you with a username (`HUBOT_TANGOCARD_USER`) and a secret key (`HUBOT_TANGOCARD_KEY`).\n- The customer and account fields (`HUBOT_TANGOCARD_CUSTOMER` and `HUBOT_TANGOCARD_ACCOUNT`) are fairly arbitrary, and only really exist so you can track expenses through Tango Card. This plugin will use the same values for every card it orders.\n- Type in the credit card info and hit \"Process\" to use the Tango Card API to generate a credit-card token (`HUBOT_TANGOCARD_CC`) and record the auth code from the card (`HUBOT_TANGOCARD_AUTH`) and the account email address (`HUBOT_TANGOCARD_EMAIL`). **Note that you have to click the \"Process\" button to generate a credit-card token.**\n\n## Google Spreadsheet Configuration\n\nThe plugin will automatically log gift cards to a Google Spreadsheet. To make this happen, do this:\n\n1. Open the [Google Developers Console](https://console.developers.google.com/project) and create an application. The name doesn't matter.\n1. Open the \"APIs\" section and enable the \"Drive API\" for your application.\n1. Open the \"Credentials\" section and create a \"New Client ID\". Choose a \"Service Account\".\n1. Copy the service account's email address and plug it into the highfive configuration form.\n1. A JSON file may download automatically - ignore it.\n1. Click \"Generate new P12 key\", and take a note of the resulting password, because you won't be able to get it back.\n1. The previous step should have downloaded a `.p12` key file to your computer. Run the following command to convert it to a PEM file:\n  ```\n  openssl pkcs12 -in downloaded-key-file.p12 -out your-key-file.pem -nodes\n  ```\n1. Take the contents of that PEM file, and copy-paste them into the highfive configuration form.\n1. Create a new Google Spreadsheet, and share it to the email address you got in step 3. Make sure the sharing includes \"edit\" privileges.\n1. Copy the sheet's ID (it's in the url: `https://docs.google.com/…/spreadsheets/d/<SHEET_ID>/…`), and plug that into the highfive config form.\n1. Type the name of the worksheet into the highfive config form. This is probably \"Sheet1\".\n\nThis will set the following environment variables:\n\n- `HUBOT_HIGHFIVE_SHEET_EMAIL`\n- `HUBOT_HIGHFIVE_SHEET_KEY`\n- `HUBOT_HIGHFIVE_SHEET_DOCID`\n- `HUBOT_HIGHFIVE_SHEET_SHEETNAME`\n\n\n## TODO\n\n- Chat services that aren't Slack.\n- Other logging services\n","maintainers":[{"name":"nick.gridium","email":"nick@gridium.com"}],"time":{"modified":"2017-07-06T22:13:53.466Z","created":"2017-07-06T21:14:32.286Z","0.3.0":"2017-07-06T21:14:32.286Z","0.3.1":"2017-07-06T22:07:59.522Z","0.3.2":"2017-07-06T22:13:53.466Z"},"homepage":"https://github.com/Gridium/hubot-tangocard-highfive-v2","keywords":["hubot","hubotscripts","tangocard"],"repository":{"type":"git","url":"git+https://github.com/Gridium/hubot-tangocard-highfive-v2.git"},"author":{"name":"Nick Pleis","email":"nick@gridium.com"},"bugs":{"url":"https://github.com/Gridium/hubot-tangocard-highfive-v2/issues"},"license":"MIT","readmeFilename":"README.md"}
