{"_id":"hubot-nagios","_rev":"2-a14eda4345551e582a9bf0c76dd324cc","name":"hubot-nagios","description":"Hubot adapter for nagios","dist-tags":{"latest":"0.0.2"},"versions":{"0.0.1":{"name":"hubot-nagios","version":"0.0.1","description":"Hubot adapter for nagios","main":"./src/index.coffee","scripts":{"test":"grunt test"},"repository":{"type":"git","url":"https://github.com/fbernitt/hubot-nagios.git"},"keywords":["hubot","nagios"],"author":{"name":"Folker Bernitt"},"license":"APLv2","dependencies":{"coffee-script":">= 1.7","xml2js":">=0.4.4","cron":">= 1.0.1","underscore":">=1.6.0"},"devDependencies":{"hubot":"*","mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt":"~0.4.4","grunt-cli":"~0.1.13","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3","scoped-http-client":"0.10.0"},"gitHead":"9e24618252b442227e038a620892a7f1fa02ce48","bugs":{"url":"https://github.com/fbernitt/hubot-nagios/issues"},"homepage":"https://github.com/fbernitt/hubot-nagios","_id":"hubot-nagios@0.0.1","_shasum":"1e744f9226c5c5a995af752a78552793c12e7e14","_from":".","_npmVersion":"1.4.23","_npmUser":{"name":"fbernitt","email":"fbernitt.npm@gmx.de"},"maintainers":[{"name":"fbernitt","email":"fbernitt.npm@gmx.de"}],"dist":{"shasum":"1e744f9226c5c5a995af752a78552793c12e7e14","tarball":"http://registry.npmjs.org/hubot-nagios/-/hubot-nagios-0.0.1.tgz"}},"0.0.2":{"name":"hubot-nagios","version":"0.0.2","description":"Hubot adapter for nagios","main":"./src/index.coffee","scripts":{"test":"grunt test"},"repository":{"type":"git","url":"https://github.com/fbernitt/hubot-nagios.git"},"keywords":["hubot","nagios"],"author":{"name":"Folker Bernitt"},"license":"APLv2","dependencies":{"coffee-script":">= 1.7","xml2js":">=0.4.4","cron":">= 1.0.1","underscore":">=1.6.0"},"devDependencies":{"hubot":"*","mocha":"*","chai":"*","sinon-chai":"*","sinon":"*","grunt":"~0.4.4","grunt-cli":"~0.1.13","grunt-mocha-test":"~0.7.0","grunt-release":"~0.6.0","matchdep":"~0.1.2","grunt-contrib-watch":"~0.5.3","scoped-http-client":"0.10.0"},"gitHead":"e9dd962a076d243c0d86e8601eb3e9927e2a41a1","bugs":{"url":"https://github.com/fbernitt/hubot-nagios/issues"},"homepage":"https://github.com/fbernitt/hubot-nagios","_id":"hubot-nagios@0.0.2","_shasum":"22144000b89713b1891bcbdf4c49ff52c094b3d9","_from":".","_npmVersion":"1.4.23","_npmUser":{"name":"fbernitt","email":"fbernitt.npm@gmx.de"},"maintainers":[{"name":"fbernitt","email":"fbernitt.npm@gmx.de"}],"dist":{"shasum":"22144000b89713b1891bcbdf4c49ff52c094b3d9","tarball":"http://registry.npmjs.org/hubot-nagios/-/hubot-nagios-0.0.2.tgz"}}},"readme":"\n# hubot-nagios\n\nhubot-nagios adds [nagios](http://www.nagios.org/) monitoring support to hubot\n\n[![Build Status](https://travis-ci.org/fbernitt/hubot-nagios.png?branch=master)](https://travis-ci.org/fbernitt/hubot-nagios)\n\n## Description\n\nThis plugin enables hubot to react to nagios notification as well as request current service state or acknowledge problems.\n\nIt requires custom notification commands and a contact on the nagios side as well. On notification nagios runs a simple curl\ncall to relay the event to hubot. For this to work, hubot needs to listen on an IP that is reachable from nagios.\n\n## Installation and Setup\n\nAdd `hubot-nagios` to your package.json, run `npm install` and add hubot-nagios to `external-scripts.json`.\n\nAdd hubot-nagios to your `package.json` dependencies.\n\n```\n\"dependencies\": {\n  \"hubot-nagios\": \">= 0.0.1\"\n}\n```\n\nAdd `hubot-nagios` to `external-scripts.json`.\n\n```\n> cat external-scripts.json\n> [\"hubot-nagios\"]\n```\n\nYou need to specify the chat room to use for build events and the cctray.xml to use on startup:\n\n    % HUBOT_NAGIOS_EVENT_NOTIFIER_ROOM=\"#roomname\" \\\n      bin/hubot\n\nWithin nagios configuration you need to add a new contact that calls the hubot webhook:\n\n```\ndefine contact {\n        alias                          hubot\n        host_notification_period       24x7\n        service_notification_options   w,u,c,r\n        contact_name                   hubot\n        email                          someone@somedomain.tld\n        host_notification_options      d,r\n        service_notification_period    24x7\n        service_notification_commands  notify-service-by-hubot\n        host_notification_commands     notify-host-by-hubot\n}\n```\n\nAnd add this new contact as a member to at least one contactgroup.\n\n\nYou need to add these new commands:\n```\ndefine command {\n        command_name                    notify-service-by-hubot\n        command_line                    /usr/bin/curl -d host=\"$HOSTALIAS$\" -d serviceoutput=\"$SERVICEOUTPUT$\" -d servicedescription=\"$SERVICEDESC$\" -d notificationtype=\"$NOTIFICATIONTYPE$\" -d servicestate=\"$SERVICESTATE$\" https://username:password@hubot.somedomain.tld/hubot/nagios/service\n}\n\ndefine command {\n        command_name                    notify-host-by-hubot\n        command_line                    /usr/bin/curl -d host=\"$HOSTNAME$\" -d hostoutput=\"$HOSTOUTPUT$\" -d notificationtype=\"$NOTIFICATIONTYPE$\" -d hoststate=\"$HOSTSTATE$\" https://username:password@hubot.somedomain.tld/hubot/nagios/host\n}\n```\n\nThat's it!\n\n","maintainers":[{"name":"fbernitt","email":"fbernitt.npm@gmx.de"}],"time":{"modified":"2015-04-22T14:32:39.575Z","created":"2015-04-21T07:44:24.703Z","0.0.1":"2015-04-21T07:44:24.703Z","0.0.2":"2015-04-22T14:32:39.575Z"},"homepage":"https://github.com/fbernitt/hubot-nagios","keywords":["hubot","nagios"],"repository":{"type":"git","url":"https://github.com/fbernitt/hubot-nagios.git"},"author":{"name":"Folker Bernitt"},"bugs":{"url":"https://github.com/fbernitt/hubot-nagios/issues"},"license":"APLv2","readmeFilename":"README.md"}
