{"_id":"hubot-markov","_rev":"5-58d37f616ad36316e0a8b4ee1a3cf287","name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","dist-tags":{"latest":"2.1.0"},"versions":{"1.0.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.0.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"homepage":"https://github.com/smashwilson/hubot-markov","_id":"hubot-markov@1.0.0","dist":{"shasum":"d9ba9c45e352f20056743caef1517aa0855e53fe","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.0.0.tgz"},"_from":".","_npmVersion":"1.3.14","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"directories":{}},"1.2.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.2.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"homepage":"https://github.com/smashwilson/hubot-markov","_id":"hubot-markov@1.2.0","dist":{"shasum":"747b3e7ac03a6e640eb3ab7d10d4dd10f34b4333","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.2.0.tgz"},"_from":".","_npmVersion":"1.3.14","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"directories":{}},"1.3.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.3.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"homepage":"https://github.com/smashwilson/hubot-markov","_id":"hubot-markov@1.3.0","dist":{"shasum":"11c31759925beadecac6a74398d82cb117bf32b6","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.3.0.tgz"},"_from":".","_npmVersion":"1.3.23","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}]},"1.4.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.4.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"gitHead":"1e1179f6d8385d138051101a6235fa9fd6153ea3","homepage":"https://github.com/smashwilson/hubot-markov","_id":"hubot-markov@1.4.0","_shasum":"bc07ee595ee08c31874cdd97b0f08fa09eb85b56","_from":".","_npmVersion":"2.7.4","_nodeVersion":"0.12.2","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"dist":{"shasum":"bc07ee595ee08c31874cdd97b0f08fa09eb85b56","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.4.0.tgz"}},"1.5.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.5.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"gitHead":"f87207654770615867fbedcd94c77ce27f710257","homepage":"https://github.com/smashwilson/hubot-markov","_id":"hubot-markov@1.5.0","_shasum":"e46ba34db8894125e86cbf5eb29402f3f05b9920","_from":".","_npmVersion":"2.7.4","_nodeVersion":"0.12.2","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"dist":{"shasum":"e46ba34db8894125e86cbf5eb29402f3f05b9920","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.5.0.tgz"}},"1.6.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.6.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"gitHead":"15a0b782bb5532d04d53186e199f569a7ce990cf","homepage":"https://github.com/smashwilson/hubot-markov#readme","_id":"hubot-markov@1.6.0","_shasum":"b0c76e4d4201181bee83fd546cddbde38cd93d6c","_from":".","_npmVersion":"2.14.4","_nodeVersion":"4.1.1","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"dist":{"shasum":"b0c76e4d4201181bee83fd546cddbde38cd93d6c","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.6.0.tgz"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"_npmOperationalInternal":{"host":"packages-9-west.internal.npmjs.com","tmp":"tmp/hubot-markov-1.6.0.tgz_1455322907869_0.5636469323653728"}},"1.7.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.7.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"gitHead":"6321ed7802dcef09ee469971ad6c49b8a1bb1718","homepage":"https://github.com/smashwilson/hubot-markov#readme","_id":"hubot-markov@1.7.0","_shasum":"cfc21d6678eb9ded56ca6ec082a995fc35f8b094","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.4","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"dist":{"shasum":"cfc21d6678eb9ded56ca6ec082a995fc35f8b094","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.7.0.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-markov-1.7.0.tgz_1458739116567_0.8081111679784954"}},"1.7.1":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"1.7.1","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"coffee-script":"~1.6","redis":"~0.9.1"},"devDependencies":{"mocha":"*","chai":"*","sinon-chai":"*","sinon":"*"},"main":"index.coffee","scripts":{"test":"script/test"},"gitHead":"c29b28fd4f67757580a0e901d8b1f3840f6222ae","homepage":"https://github.com/smashwilson/hubot-markov#readme","_id":"hubot-markov@1.7.1","_shasum":"a166072f1d986c1106267f515d5dc3b38c9661eb","_from":".","_npmVersion":"3.10.8","_nodeVersion":"6.9.1","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"dist":{"shasum":"a166072f1d986c1106267f515d5dc3b38c9661eb","tarball":"http://registry.npmjs.org/hubot-markov/-/hubot-markov-1.7.1.tgz"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/hubot-markov-1.7.1.tgz_1480618909725_0.2155389259569347"}},"2.0.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"2.0.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"async":"2.1.4","coffee-script":"~1.6","pg":"^6.1.0","redis":"~0.9.1"},"devDependencies":{"chai":"^3.5.0","hubot-test-helper":"^1.5.0","mocha":"^3.2.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script --colors"},"gitHead":"da260ae4079434caee1918b821202a29d4a8390d","homepage":"https://github.com/smashwilson/hubot-markov#readme","_id":"hubot-markov@2.0.0","_shasum":"83be751a80d010eff0bd23be6df6292f1e279221","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.10.0","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"dist":{"shasum":"83be751a80d010eff0bd23be6df6292f1e279221","tarball":"https://registry.npmjs.org/hubot-markov/-/hubot-markov-2.0.0.tgz"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-markov-2.0.0.tgz_1490668699562_0.24884744244627655"}},"2.1.0":{"name":"hubot-markov","description":"Build a markov model of everything Hubot hears.","version":"2.1.0","author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"license":"MIT","keywords":["hubot","hubot-scripts","markov"],"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"dependencies":{"async":"2.1.4","coffee-script":"~1.6","pg-promise":"^5.4.5","redis":"~0.9.1"},"devDependencies":{"chai":"^3.5.0","hubot-test-helper":"^1.5.0","mocha":"^3.2.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script --colors"},"gitHead":"5e2aa415bcca32911edb9bfacf3ca2ab02180309","homepage":"https://github.com/smashwilson/hubot-markov#readme","_id":"hubot-markov@2.1.0","_shasum":"ad7da12e4f77f398dbb1c47fcd81e9ada4137006","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.10.0","_npmUser":{"name":"smashwilson","email":"smashwilson@gmail.com"},"dist":{"shasum":"ad7da12e4f77f398dbb1c47fcd81e9ada4137006","tarball":"https://registry.npmjs.org/hubot-markov/-/hubot-markov-2.1.0.tgz"},"maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/hubot-markov-2.1.0.tgz_1493564425783_0.5369110540486872"}}},"readme":"# Hubot Markov Model\n\n[![npm](https://img.shields.io/npm/v/hubot-markov.svg?style=plastic)](https://www.npmjs.com/package/hubot-markov) [![Travis branch](https://img.shields.io/travis/smashwilson/hubot-markov/master.svg?style=plastic)](https://travis-ci.org/smashwilson/hubot-markov)\n\nGenerates a markov model based on everything that your Hubot sees in your chat.\n\n## Installing\n\n1. Add `hubot-markov` to your `package.json` with `npm install --save hubot-markov`:\n\n```json\n  \"dependencies\": {\n    \"hubot-markov\": \"~2.0.0\"\n  },\n```\n\n2. Require the module in `external-scripts.json`:\n\n```json\n[\"hubot-markov\"]\n```\n\n3. Run `npm update` and restart your Hubot.\n\nConsult the [upgrading guide](./docs/upgrade.md) for instructions on migrating from older major versions.\n\n## Commands\n\nBy default, saying anything at all in chat trains the model. The robot is always watching!\n\n`Hubot: markov` will randomly generate text based on the current contents of its model.\n\n`Hubot: markov your mother is a` will generate a random phrase seeded with the phrase you give it. This command might output \"your mother is a classy lady\", for example. Remember: Hubot is an innocent soul, and what he says only acts as a mirror for everything in your hearts.\n\n`Hubot: remarkov` and `Hubot: mmarkov` are similar, but traverse node transitions in different directions: `remarkov` chains backwards from a given ending state, and `mmarkov` chains both forward and backward.\n\n## Configuration\n\nThe Hubot markov model can optionally be configured by setting environment variables:\n\n* `HUBOT_MARKOV_DEFAULT_MODEL` _(default: true)_ controls the inclusion of the default, forward-chaining model that learns from all text messages. Set this to `false` to omit the default model and disable the `markov` and `mmarkov` commands.\n\n* `HUBOT_MARKOV_REVERSE_MODEL` _(default: true)_ controls the inclusion of the reverse model. Setting this to `false` saves some space in your database, but doesn't let you use `remarkov` or `mmarkov`.\n\n* `HUBOT_MARKOV_PLY` _(default: 1)_ controls the *order* of the default models that are built; effectively, how many previous states (words) are considered to choose the next state. You can bump this up if you'd like, but the default of 1 is both economical with storage and maximally hilarious.\n\n* `HUBOT_MARKOV_LEARN_MIN` _(default: 1)_ controls the minimum length of a phrase that will be used to train the default models. Set this higher to avoid training your model with a bunch of immediate terminal transitions like \"lol\".\n\n* `HUBOT_MARKOV_GENERATE_MAX` _(default: 50)_ controls the maximum size of a markov chain that will be generated by the `markov`, `remarkov`, and `mmarkov` commands.\n\n* `HUBOT_MARKOV_STORAGE` _(default: memory)_ controls the backing storage used to persist the default models. Choices include:\n  * `memory`, the default, which stores transitions entirely in-process (lost on restart);\n  * `redis`, which stores data in a Redis cache; or\n  * `postgres`, which stores data in a PostgreSQL database.\n\n* `HUBOT_MARKOV_STORAGE_URL` supplies additional configuration required by the `redis` and `postgres` storage backends. The formats are `redis://${USER}:${PASSWORD}@${HOSTNAME}:${PORT}/${DBNUM}` and `postgres://${USER}:${PASSWORD}@${HOSTNAME}:${PORT}/${DATABASE}` with defaults omitted.\n\n* `HUBOT_MARKOV_RESPOND_CHANCE` controls the chance that Hubot will respond un-prompted to a message it sees by using the last word in the message as the seed. Set this to a value between 0 and 1.0 to enable the feature. Leaving this variable unset or setting it to 0 will disable the feature.\n\n* `HUBOT_MARKOV_INCLUDE_URLS` _(default: false)_ will default to ignoring messages that include URLs from the default models.\n\n* `HUBOT_MARKOV_IGNORELIST` _(default: empty)_ is interpreted as a comma-separated list of usernames to ignore for purposes of markov indexing. You can use this to prevent the output of other bots or integrations from clogging up your model.\n\nTo re-use a PostgreSQL connection with other parts of your Hubot, define a robot method called `getDatabase` that returns the connection object. This package uses [pg-promise](https://www.npmjs.com/package/pg-promise).\n\n## Custom models\n\nStore and generate text from arbitrary sources and in more complex commands by using the programmatic API available at `robot.markov`. Call `robot.markov.createModel` during script initialization to configure a model, then use `robot.markov.modelNamed` to access the model instance in commands that train it or generate from it.\n\n### Example: Manual Model\n\n```coffee\nmodule.exports = (robot) ->\n  MODELNAME = 'manual'\n\n  # Create or connect to a model with all default options\n  robot.markov.createModel MODELNAME\n\n  robot.respond /modeladd\\s+(.+)/, (msg) ->\n    robot.markov.modelNamed MODELNAME, (model) ->\n      model.learn msg.match[1], ->\n        msg.reply 'Input accepted.'\n\n  robot.respond /modelgen(?:\\s+(.+))/, (msg) ->\n    robot.markov.modelNamed MODELNAME, (model) ->\n      model.generate msg.match[1] or '', 50, (output) ->\n        msg.reply output\n```\n\n### Example: Letter-Based Model\n\n```coffee\nmodule.exports = (robot) ->\n  MODELNAME = 'letters'\n\n  # Create or connect to a model with a custom pre- and post-processor\n  robot.markov.createModel MODELNAME, {}, (model) ->\n    model.processWith\n      pre: (input) -> input.split('')\n      post: (output) -> output.join('')\n\n  robot.catchAll (msg) ->\n    # Filter out \"lol\"\n    return if /^\\s*l(o+)l\\s*/.test msg.text\n\n    robot.markov.modelNamed MODELNAME, (model) ->\n      model.learn msg.text\n\n  robot.respond /lettergen(?:\\s+(.+))/, (msg) ->\n    robot.markov.modelNamed MODELNAME, (model) ->\n      model.generate msg.match[1] or '', 100, (output) ->\n        msg.reply output\n```\n\nThe full API is available in [the docs/ directory.](./docs/api.md)\n","maintainers":[{"name":"smashwilson","email":"smashwilson@gmail.com"}],"time":{"modified":"2017-04-30T15:00:26.432Z","created":"2013-12-03T16:13:04.566Z","1.0.0":"2013-12-03T16:13:06.577Z","1.2.0":"2013-12-12T13:47:23.608Z","1.3.0":"2014-01-10T13:16:23.454Z","1.4.0":"2015-05-15T19:47:40.378Z","1.5.0":"2015-11-19T14:25:39.802Z","1.6.0":"2016-02-13T00:21:51.357Z","1.7.0":"2016-03-23T13:18:39.196Z","1.7.1":"2016-12-01T19:01:50.382Z","2.0.0":"2017-03-28T02:38:21.732Z","2.1.0":"2017-04-30T15:00:26.432Z"},"author":{"name":"Ash Wilson","email":"smashwilson@gmail.com"},"repository":{"type":"git","url":"git://github.com/smashwilson/hubot-markov.git"},"users":{"100ideas":true},"homepage":"https://github.com/smashwilson/hubot-markov#readme","keywords":["hubot","hubot-scripts","markov"],"contributors":[{"name":"Ash Wilson","email":"smashwilson@gmail.com"},{"name":"Kyle Kelley","email":"rgbkrk@gmail.com"},{"name":"Todd Berman","email":"tberman@off.net"},{"name":"Roger Ostrander","email":"atiaxi@gmail.com"}],"bugs":{"url":"https://github.com/smashwilson/hubot-markov/issues"},"license":"MIT","readmeFilename":"README.md"}
