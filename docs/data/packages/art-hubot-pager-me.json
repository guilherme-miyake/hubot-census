{"_id":"art-hubot-pager-me","_rev":"1-5873ff32e7bf72416639d752419670a7","name":"art-hubot-pager-me","description":"PagerDuty integration for Hubot ","dist-tags":{"latest":"2.1.6"},"versions":{"2.1.6":{"name":"art-hubot-pager-me","description":"PagerDuty integration for Hubot ","version":"2.1.6","author":{"name":"Josh Nichols","email":"technicalpickles@github.com"},"license":"MIT","keywords":["hubot","hubot-scripts","pagerduty"],"repository":{"type":"git","url":"git://github.com/hubot-scripts/hubot-pager-me.git"},"bugs":{"url":"https://github.com/hubot-scripts/hubot-pager-me/issues"},"dependencies":{"async":"^1.4.2","coffee-script":"~1.6","moment-timezone":"~0.4.0","request":"^2.83.0","query-string":"^5.0.1"},"devDependencies":{"chai":"^2.1.1","coffee-script":"1.6.3","grunt":"^0.4.5","grunt-cli":"^0.1.13","grunt-contrib-watch":"~0.6.1","grunt-mocha-test":"~0.12.7","grunt-release":"~0.11.0","hubot":"2.x","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"grunt test"},"gitHead":"c72c245e35f2e2a2a43aada8b39daa67f2623847","homepage":"https://github.com/hubot-scripts/hubot-pager-me#readme","_id":"art-hubot-pager-me@2.1.6","_npmVersion":"5.3.0","_nodeVersion":"8.5.0","_npmUser":{"name":"fromonesrc","email":"aochonicki+npmjs@articulate.com"},"dist":{"integrity":"sha512-jUaykGZCmVb8eizjtGNl3xJlUtmdAqkugfStt77ZzNNOS5P7QNlh5NzfWzXjmmo3guCdXLZ+gpAyV2wwleg9EQ==","shasum":"3aba45cd0dbf2297d275f7e5baa83b41331914cf","tarball":"https://registry.npmjs.org/art-hubot-pager-me/-/art-hubot-pager-me-2.1.6.tgz"},"maintainers":[{"name":"fromonesrc","email":"aochonicki+npmjs@articulate.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/art-hubot-pager-me-2.1.6.tgz_1517868185082_0.9354775578249246"}}},"readme":"# hubot-pager-me\n\nPagerDuty integration for Hubot\n\n## Installation\n\nIn your hubot repository, run:\n\n`npm install hubot-pager-me --save`\n\nThen add **hubot-pager-me** to your `external-scripts.json`:\n\n```json\n[\"hubot-pager-me\"]\n```\n\n## Configuration\n\n`pager me` requires a bit of configuration to get everything working:\n\n* HUBOT_PAGERDUTY_SUBDOMAIN - Your account subdomain\n* HUBOT_PAGERDUTY_USER_ID - The user id of a PagerDuty user for your bot. This is only required if you want chat users to be able to trigger incidents without their own PagerDuty user\n* HUBOT_PAGERDUTY_API_KEY - Get one from https://<your subdomain>.pagerduty.com/api_keys\n* HUBOT_PAGERDUTY_SERVICE_API_KEY - Service API Key from a 'General API Service'. This should be assigned to a dummy escalation policy that doesn't actually notify, as hubot will trigger on this before reassigning it\n* HUBOT_PAGERDUTY_SERVICES - (optional) Provide a comma separated list of service identifiers (e.g. `PFGPBFY`) to restrict queries to only those services.\n\n### Webhook\n\nUsing a webhook requires a bit more configuration:\n\n* HUBOT_PAGERDUTY_ENDPOINT - Pagerduty Webhook listener e.g /hook\n* HUBOT_PAGERDUTY_ROOM - Room in which you want the pagerduty webhook notifications to appear\n\nTo setup the webhooks and get the alerts in your chatrooms, you need to add the endpoint you define here (e.g /hooks) in\nthe service settings of your Pagerduty accounts. You also need to define the room in which you want them to appear.\n(Unless you want to spam all the rooms with alerts, but we don't believe that should be the default behavior :)  \n\n## Example interactions\n\nTrigger an incident assigned to a specific user:\n\n```\ntechnicalpickles> hubotjpager trigger jnewland omgwtfbbq\nhubot> technicalpickles: :pager: triggered! now assigning it to the right user...\nhubot> technicalpickles: :pager: assigned to jnewland!\n```\n\nTrigger an incident assigned to an escalation policy:\n\n\n```\ntechnicalpickles> hubot pager trigger ops site is down\nhubot> Shell: :pager: triggered! now assigning it to the right user...\nhubot> Shell: :pager: assigned to ops!\n```\n\nCheck on open incidents:\n\n```\ntechnicalpickles> hubot pager sup\nhubot>\n      Triggered:\n      ----------\n      8: 2014-11-05T20:17:50Z site is down - @technicalpickles - assigned to jnewland\n\n      Acknowledged:\n      -------------\n      7: 2014-11-05T20:16:29Z omgwtfbbq - @technicalpickles - assigned to jnewland\n```\n\nAcknowledge triggered alerts assigned to you:\n\n```\njnewland> /pager ack\nhubot> jnewland: Incident 9 acknowledged\n```\n\nResolve acknowledged alerts assigned to you:\n\n```\njnewland> /pager resolve\nhubot> jnewland: Incident 9 resolved\n```\n\nCheck up coming schedule, and schedule shift overrides on it:\n\n```\ntechnicalpickles> hubot pager schedules\nhubot> * Ops - https://urcompany.pagerduty.com/schedules#DEADBEE\ntechnicalpickles> hubot pager schedule ops\nhubot> * 2014-06-24T09:06:45-07:00 - 2014-06-25T03:00:00-07:00 technicalpickles\n       * 2014-06-25T03:00:00-07:00 - 2014-06-26T03:00:00-07:00 jnewland\n       * 2014-06-26T03:00:00-07:00 - 2014-06-27T03:00:00-07:00 technicalpickles\n       * 2014-06-27T03:00:00-07:00 - 2014-06-28T03:00:00-07:00 jnewland\n       * 2014-06-28T03:00:00-07:00 - 2014-06-29T03:00:00-07:00 technicalpickles\ntechnicalpickles> hubot pager override ops 2014-06-25T03:00:00-07:00 - 2014-06-26T03:00:00-07:00 chrislundquist\nhubot> Override setup! chrislundquist has the pager from 2014-06-25T06:00:00-04:00 until 2014-06-26T06:00:00-04:00\ntechnicalpickles> hubot pager schedule\nhubot> * 2014-06-24T09:06:45-07:00 - 2014-06-25T03:00:00-07:00 technicalpickles\n       * 2014-06-25T03:00:00-07:00 - 2014-06-26T03:00:00-07:00 chrislundquist\n       * 2014-06-26T03:00:00-07:00 - 2014-06-27T03:00:00-07:00 technicalpickles\n       * 2014-06-27T03:00:00-07:00 - 2014-06-28T03:00:00-07:00 jnewland\n       * 2014-06-28T03:00:00-07:00 - 2014-06-29T03:00:00-07:00 technicalpickles\n```\n\n## Conventions\n\nhubot-pager-me makes some assumptions about how you are using PagerDuty:\n\n* PagerDuty email matches chat email\n  * override with `hubot pager me as <pagerduty email>`\n* Schedules' and Escalation Policies' names are letters and dashes (no spaces, digits)\n* The Service used by hubot-pager-me should not be assigned to an escalation policy with real people on it. Instead, it should be a dummy user that doesn't have any notification rules. If this isn't done, the escalation policy assigned to it will be notified, and then hubot will immediately reassign to the proper team\n\n## Development\n\nFork this repository, and clone it locally. To start using with an existing hubot for testing:\n\n* Run `npm install` in hubot-pager-me repository\n* Run `npm link` in hubot-pager-me repository\n* Run `npm link hubot-pager-me` in your hubot directory\n* NOTE: if you are using something like [nodenv](https://github.com/wfarr/nodenv) or similar, make sure your `npm link` from the same node version\n\nThere's a few environment variables useful for testing:\n\n* HUBOT_PAGERDUTY_NOOP: don't actually make POST/PUT HTTP requests\n* HUBOT_PAGERDUTY_TEST_EMAIL: force email of address to this for testing\n\n## Resources\n\n* http://developer.pagerduty.com/documentation/rest/webhooks\n* http://support.pagerduty.com/entries/21774694-Webhooks-\n","maintainers":[{"name":"fromonesrc","email":"aochonicki+npmjs@articulate.com"}],"time":{"modified":"2018-02-05T22:03:06.036Z","created":"2018-02-05T22:03:06.036Z","2.1.6":"2018-02-05T22:03:06.036Z"},"homepage":"https://github.com/hubot-scripts/hubot-pager-me#readme","keywords":["hubot","hubot-scripts","pagerduty"],"repository":{"type":"git","url":"git://github.com/hubot-scripts/hubot-pager-me.git"},"author":{"name":"Josh Nichols","email":"technicalpickles@github.com"},"bugs":{"url":"https://github.com/hubot-scripts/hubot-pager-me/issues"},"license":"MIT","readmeFilename":"README.md"}
