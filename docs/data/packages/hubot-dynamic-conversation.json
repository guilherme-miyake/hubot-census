{"_id":"hubot-dynamic-conversation","_rev":"3-0b63dedbebbb3f867a98bd1f7194ffe4","name":"hubot-dynamic-conversation","description":"Have conversation with user without the hustle of `robot.hear`","dist-tags":{"latest":"1.0.1"},"versions":{"1.0.0":{"name":"hubot-dynamic-conversation","version":"1.0.0","description":"Have conversation with user without the hustle of `robot.hear`","main":"index.js","contributors":[{"name":"Gary Chapman","email":"gary.chapman@4thparty.com.au"},{"name":"Tim Kinnane","email":"tim.kinnane@4thparty.com.au"}],"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot","dynamic","conversation","dialog","forking","bot","robot"],"author":{"name":"Eugene Asiedu","email":"ngene84@gmail.com","url":"https://github.com/ngenerio"},"license":"MIT","dependencies":{"async-series":"0.0.1","hubot-conversation":"^1.1.1"},"gitHead":"9a3f36d0f14cac7762a2f021c7d58cbc0a7fa4e1","_id":"hubot-dynamic-conversation@1.0.0","_shasum":"8c8282a94f767cebff38ad8e185d3b7664bd08ef","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.1","_npmUser":{"name":"ngenerio","email":"ngene84@gmail.com"},"dist":{"shasum":"8c8282a94f767cebff38ad8e185d3b7664bd08ef","tarball":"https://registry.npmjs.org/hubot-dynamic-conversation/-/hubot-dynamic-conversation-1.0.0.tgz"},"maintainers":[{"name":"ngenerio","email":"ngene84@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-dynamic-conversation-1.0.0.tgz_1469521600500_0.6775999353267252"},"directories":{}},"1.0.1":{"name":"hubot-dynamic-conversation","version":"1.0.1","description":"Have conversation with user without the hustle of `robot.hear`","main":"index.js","contributors":[{"name":"Gary Chapman","email":"gary.chapman@4thparty.com.au"},{"name":"Tim Kinnane","email":"tim.kinnane@4thparty.com.au"}],"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot","dynamic","conversation","dialog","forking","bot","robot"],"author":{"name":"Eugene Asiedu","email":"ngene84@gmail.com","url":"https://github.com/ngenerio"},"license":"MIT","dependencies":{"async-series":"0.0.1","hubot-conversation":"^1.1.1"},"gitHead":"3a45145d0f0a993265f595eb61375375d98bdc3e","_id":"hubot-dynamic-conversation@1.0.1","_shasum":"94bb28dfca02af7fb0e7e01200431c515b29211b","_from":".","_npmVersion":"2.15.5","_nodeVersion":"4.4.5","_npmUser":{"name":"garychapman","email":"gary.chapman@4thparty.com.au"},"dist":{"shasum":"94bb28dfca02af7fb0e7e01200431c515b29211b","tarball":"https://registry.npmjs.org/hubot-dynamic-conversation/-/hubot-dynamic-conversation-1.0.1.tgz"},"maintainers":[{"name":"garychapman","email":"gary.chapman@4thparty.com.au"},{"name":"ngenerio","email":"ngene84@gmail.com"},{"name":"timkinnane","email":"tim@nestedcode.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-dynamic-conversation-1.0.1.tgz_1469531288291_0.3884657369926572"},"directories":{}}},"readme":"# Hubot-dynamic-conversation\r\nThis package helps you to make dynamic conversations with hubot. It allows you to collect information from a user based on some model questions\r\n\r\n### Usage\r\n\r\n#### *NB*\r\n\r\nCurrently, the v0.1.4 of the [hubot-rocketchat](https://github.com/RocketChat/hubot-rocketchat) does not properly support attachment. To add the attachment support use my fork of the [hubot-rocketchat](https://github.com/ngenerio/hubot-rocketchat).\r\n\r\nChange the version number of hubot-rocketchat in your package.json to: https://github.com/ngenerio/hubot-rocketchat#a86a49244b87a73596fbc05f311e5d5c85737fa1 or use https://github.com/RocketChat/hubot-rocketchat/commit/72bbf02d519b5dedb2b8e45e093fe2b0b23df9b3\r\n\r\nCheck the [example.coffee](https://github.com/4thParty/hubot-dynamic-conversation/blob/master/example.coffee) for more information.\r\n\r\n```coffee\r\nDynamicConversation = require 'hubot-dynamic-conversation'\r\ndynamic = new DynamicConversation robot\r\n\r\nrobot.respond /problem/i, (msg) ->\r\n  robot.logger.info 'hello'\r\n  msg.reply \"OK, I can make a maintenance report for you, just answer some questions...\"\r\n  maintenanceRequestModel = {\r\n    abortKeyword: 'quit',\r\n    onAbortMessage: 'You cancelled the conversation.',\r\n    onCompleteMessage: 'Thanks for reporting this. I\\'ll notify @bm immediately.',\r\n    conversation: [ \r\n      {\r\n        question: \"Is it in a [public]or [private]area?\",\r\n        answer: {\r\n          type: \"choice\",\r\n          options: [\r\n            {\r\n              match: \"public\",\r\n              valid: true,\r\n              response: \"OK you said *public*, next step...\",\r\n              value: \"public\"\r\n            },\r\n            {\r\n              match: \"private\",\r\n              valid: false,\r\n              response: \"Sorry, you will have to find a contractor for private maintenance\"\r\n            }\r\n          ]\r\n        },\r\n        required: true,\r\n        error: \"Sorry, I didn't understand your response. Please say [private] or [public] to proceed.\"\r\n      },\r\n      {\r\n        question: \"Please describe the issue.\",\r\n        answer: {\r\n          type: \"text\"\r\n        },\r\n        required: true,\r\n        error: \"Sorry your response didn't contain any text, please describe the issue.\"\r\n      },\r\n      {\r\n        question: \"Please attach a photo of the issue if you have one.\"\r\n        answer: {\r\n          type: \"attachment\"\r\n        },\r\n        required: false,\r\n        error: \"Sorry the message didn't contain an attachment, please try again.\"\r\n      }\r\n    ]\r\n  }\r\n\r\ndialog = dynamic.start msg, maintenanceRequestModel, (err, msg, dialog) ->\r\n  if err\r\n    robot.logger.error err\r\n  else\r\n    data = dialog.fetch()\r\n    robot.logger.info data\r\n# dialog is an instance of an EventEmitter\r\n# It emits an `end` event when the dialog with the user is done\r\n```\r\n\r\n","maintainers":[{"name":"garychapman","email":"gary.chapman@4thparty.com.au"},{"name":"ngenerio","email":"ngene84@gmail.com"},{"name":"timkinnane","email":"tim@nestedcode.com"}],"time":{"modified":"2016-07-26T11:08:08.527Z","created":"2016-07-26T08:26:42.483Z","1.0.0":"2016-07-26T08:26:42.483Z","1.0.1":"2016-07-26T11:08:08.527Z"},"keywords":["hubot","dynamic","conversation","dialog","forking","bot","robot"],"contributors":[{"name":"Gary Chapman","email":"gary.chapman@4thparty.com.au"},{"name":"Tim Kinnane","email":"tim.kinnane@4thparty.com.au"}],"author":{"name":"Eugene Asiedu","email":"ngene84@gmail.com","url":"https://github.com/ngenerio"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}