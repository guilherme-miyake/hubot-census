{"_id":"hubot-whos-on-call-mattermost","_rev":"2-6068334bb7fc0d5a352953d33e5ee280","name":"hubot-whos-on-call-mattermost","description":"Display the on-call engineer in a channel header","dist-tags":{"latest":"1.1.0"},"versions":{"1.0.0":{"name":"hubot-whos-on-call-mattermost","version":"1.0.0","description":"Display the on-call engineer in a channel header","main":"index.coffee","scripts":{"test":"npm run lint","lint":"coffeelint index.coffee src/whos-on-call.coffee"},"repository":{"type":"git","url":"git+https://github.com/cadecairos/hubot-whos-on-call-mattermost.git"},"keywords":["mattermost","pagerduty","hubot"],"author":{"name":"Christopher De Cairos"},"license":"MIT","bugs":{"url":"https://github.com/cadecairos/hubot-whos-on-call-mattermost/issues"},"homepage":"https://github.com/cadecairos/hubot-whos-on-call-mattermost#readme","devDependencies":{"coffeelint":"^1.15.7"},"gitHead":"f03dc14c4d0ac4082983d248b5c737173775efa7","_id":"hubot-whos-on-call-mattermost@1.0.0","_shasum":"bb2c54a8ed8564a65921675fd392de2fedf42300","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.7.0","_npmUser":{"name":"cadecairos","email":"chris@chrisdecairos.ca"},"dist":{"shasum":"bb2c54a8ed8564a65921675fd392de2fedf42300","tarball":"https://registry.npmjs.org/hubot-whos-on-call-mattermost/-/hubot-whos-on-call-mattermost-1.0.0.tgz"},"maintainers":[{"name":"cadecairos","email":"chris@chrisdecairos.ca"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-whos-on-call-mattermost-1.0.0.tgz_1475158323146_0.3346428188960999"},"directories":{}},"1.1.0":{"name":"hubot-whos-on-call-mattermost","version":"1.1.0","description":"Display the on-call engineer in a channel header","main":"index.coffee","scripts":{"test":"npm run lint","lint":"coffeelint index.coffee src/whos-on-call.coffee"},"repository":{"type":"git","url":"git+https://github.com/cadecairos/hubot-whos-on-call-mattermost.git"},"keywords":["mattermost","pagerduty","hubot"],"author":{"name":"Christopher De Cairos"},"license":"MIT","bugs":{"url":"https://github.com/cadecairos/hubot-whos-on-call-mattermost/issues"},"homepage":"https://github.com/cadecairos/hubot-whos-on-call-mattermost#readme","devDependencies":{"coffeelint":"^1.15.7"},"gitHead":"167eae008dc5d3fa795ad43486e582c947913c66","_id":"hubot-whos-on-call-mattermost@1.1.0","_shasum":"3fb202a5b7a96e7fad6f822ab91041bd79b947ae","_from":".","_npmVersion":"2.15.9","_nodeVersion":"4.5.0","_npmUser":{"name":"cadecairos","email":"chris@chrisdecairos.ca"},"dist":{"shasum":"3fb202a5b7a96e7fad6f822ab91041bd79b947ae","tarball":"https://registry.npmjs.org/hubot-whos-on-call-mattermost/-/hubot-whos-on-call-mattermost-1.1.0.tgz"},"maintainers":[{"name":"cadecairos","email":"chris@chrisdecairos.ca"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-whos-on-call-mattermost-1.1.0.tgz_1475373248115_0.7549772434867918"},"directories":{}}},"readme":"[![Build Status](https://travis-ci.org/cadecairos/hubot-whos-on-call-mattermost.svg)](https://travis-ci.org/cadecairos/hubot-whos-on-call-mattermost)\n[![npm version](https://badge.fury.io/js/hubot-whos-on-call-mattermost.svg)](http://badge.fury.io/js/hubot-whos-on-call-mattermost)\n[![dependencies](https://david-dm.org/cadecairos/hubot-whos-on-call-mattermost.svg)](https://david-dm.org/cadecairos/hubot-whos-on-call-mattermost)\n\n[![npm stats](https://nodei.co/npm/hubot-whos-on-call-mattermost.png?downloads=true)](https://nodei.co/npm/hubot-whos-on-call-mattermost)\n\n# hubot-whos-on-call-mattermost\n\nThis script adds a webhook to hubot that can be called periodically to update a [Mattermost](https://mattermost.org) channel's header text with the name of the on-call engineer via pagerduty.\n\nSadly, Pagerduty doesn't have a webhook event for a change in schedule, so a cron job of some kind will need to trigger the script periodically. The header isn't updated if the on-call engineer hasn't changed.\n\nSee [`src/whos-on-call.coffee`](src/whos-on-call.coffee) for full documentation.\n\n**NOTE: This script requires at least version 3.4.0 of [hubot-matteruser](https://www.npmjs.com/package/hubot-matteruser)**\n\n## Installation\n\n`npm install hubot-whos-on-call-mattermost`\n\nThen add **hubot-whos-on-call-attermost** to your `external-scripts.json`:\n\n```json\n[\n  \"whos-on-call-mattermost\"\n]\n```\n\n## Triggering the script\n\nMake an HTTP POST request to `{HUBOT_HOST}/webhook/on-call/:channel_name`\n\nThe post body must contain a key called `secret` that should match the environment variable `WHOS_ON_CALL_WEBHOOK_SECRET`. This will ensure only authorized clients can trigger the script.\n\nThe post body can optionally contain a `header` key that specifies the text to set the header to. The string `$ENGINEER` in this variable will be replaced with the on-call engineer's name (as given by pagerduty). Not specifying this value will trigger the use of the `WHOS_ON_CALL_HEADER_TEMPLATE` environment variable.\n","maintainers":[{"name":"cadecairos","email":"chris@chrisdecairos.ca"}],"time":{"modified":"2016-10-02T01:54:09.567Z","created":"2016-09-29T14:12:03.970Z","1.0.0":"2016-09-29T14:12:03.970Z","1.1.0":"2016-10-02T01:54:09.567Z"},"homepage":"https://github.com/cadecairos/hubot-whos-on-call-mattermost#readme","keywords":["mattermost","pagerduty","hubot"],"repository":{"type":"git","url":"git+https://github.com/cadecairos/hubot-whos-on-call-mattermost.git"},"author":{"name":"Christopher De Cairos"},"bugs":{"url":"https://github.com/cadecairos/hubot-whos-on-call-mattermost/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}