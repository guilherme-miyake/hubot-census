{"_id":"hubot-scripts-deploy","_rev":"3-2ab84981cacfae502d3798b79ece1924","name":"hubot-scripts-deploy","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","dist-tags":{"latest":"0.1.0"},"versions":{"0.0.1":{"name":"hubot-scripts-deploy","version":"0.0.1","description":"\"A Hubot script to trigger a Jenkins job\"","main":"./deploy","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","gitHead":"9024ea3a9a7a0058afc9828f81a9fa6e1582f181","_id":"hubot-scripts-deploy@0.0.1","_shasum":"bd03bc0aa3ba9f03d84df8cf1b679c5f32e153a5","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"bd03bc0aa3ba9f03d84df8cf1b679c5f32e153a5","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.1.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.1.tgz_1469535052484_0.925226095598191"}},"0.0.2":{"name":"hubot-scripts-deploy","version":"0.0.2","description":"\"A Hubot script to trigger a Jenkins job\"","main":"./deploy","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"7a7ded1b665f1f9353e766df476b47943ba1e21b","_id":"hubot-scripts-deploy@0.0.2","_shasum":"4c1f4b3562f262602ab3a38e0a5e5598c5b7b433","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"4c1f4b3562f262602ab3a38e0a5e5598c5b7b433","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.2.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.2.tgz_1469537381931_0.735489790327847"}},"0.0.3":{"name":"hubot-scripts-deploy","version":"0.0.3","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"./deploy","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"c0493fbfabf9a8fcab87a4c5cc57b4460faa0ec7","_id":"hubot-scripts-deploy@0.0.3","_shasum":"79f121db4bf6b8f02df36ed26d2057254cc25733","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"79f121db4bf6b8f02df36ed26d2057254cc25733","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.3.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.3.tgz_1469547416695_0.1538519449532032"}},"0.0.4":{"name":"hubot-scripts-deploy","version":"0.0.4","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"deploy.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"270044f45a6ae6b46c0465cafe09445a1cbedd19","_id":"hubot-scripts-deploy@0.0.4","_shasum":"a482c9456331daa1d500c7fb2902f015561915bb","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"a482c9456331daa1d500c7fb2902f015561915bb","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.4.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.4.tgz_1469548849722_0.06444854312576354"}},"0.0.5":{"name":"hubot-scripts-deploy","version":"0.0.5","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"deploy.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"f6678c0a479e476b7a1a8a55ed41a27157447e48","_id":"hubot-scripts-deploy@0.0.5","_shasum":"45522910c36ee647874c0e28a87e2018f1614842","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"45522910c36ee647874c0e28a87e2018f1614842","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.5.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.5.tgz_1469619861568_0.8637842293828726"}},"0.0.6":{"name":"hubot-scripts-deploy","version":"0.0.6","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"deploy.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"cd26d7904eb4c7dc545fd337eea4eb7da338613e","_id":"hubot-scripts-deploy@0.0.6","_shasum":"84eca84b27ffc0636094fa5f3610b67daa168bf5","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"84eca84b27ffc0636094fa5f3610b67daa168bf5","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.6.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.6.tgz_1469622842758_0.6460365911480039"}},"0.0.7":{"name":"hubot-scripts-deploy","version":"0.0.7","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"deploy.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^3.0.2"},"gitHead":"c8fa6a619edcefebf14a13ee8eff5d3a396965fb","_id":"hubot-scripts-deploy@0.0.7","_shasum":"3b9d5f62db2a25cd3f255f22851bbfc393b70d7d","_from":".","_npmVersion":"2.14.2","_nodeVersion":"4.0.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"3b9d5f62db2a25cd3f255f22851bbfc393b70d7d","tarball":"http://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.0.7.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-scripts-deploy-0.0.7.tgz_1469624269264_0.7215733632910997"}},"0.1.0":{"name":"hubot-scripts-deploy","version":"0.1.0","description":"A Hubot script to trigger a CI task. Like starting a deploy on Jenkins via Slack","main":"deploy.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"keywords":["hubot","deploy","ci"],"author":{"name":"Maria Nita"},"license":"MIT","bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","dependencies":{"requestify":"^0.1.17","cson":"^4.1.0"},"gitHead":"3b1a6907922f4ae1357310d42ffd43324bb870e5","_id":"hubot-scripts-deploy@0.1.0","_shasum":"bb95a6ffa03c535eff7b63942152af95e6f903df","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.11.0","_npmUser":{"name":"marianitadn","email":"maria.nita.dn@gmail.com"},"dist":{"shasum":"bb95a6ffa03c535eff7b63942152af95e6f903df","tarball":"https://registry.npmjs.org/hubot-scripts-deploy/-/hubot-scripts-deploy-0.1.0.tgz"},"maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-scripts-deploy-0.1.0.tgz_1511335316435_0.11795150651596487"}}},"readme":"# Hubot Scripts - Deploy\n\nA script for Hubot which can trigger Continuos Integration tasks, for deploy or test purposes.\n\nWhat I mean?\n\n## Problem\n\nYou have a Jenkins pipeline in place for your deployment system, in other words you  \ndeploy your application by triggering a Jenkins job in its interface.  \n\nYou use Slack as your communication tool in your team, maybe have the Jenkins integration configured,   \nso you can see a Jenkins job status inside a Slack channel.  \n\nCool. What if you would never have to leave Slack to start & monitor a deploy?  \nYou can do that :).  \n\n(I know you know you can do everything, I just want to make our lives easier by writing the code.)\n\n### Jenkins & Slack use case\n\n```gherkin\nScenario: Deploy the application food-ordering on the development environment from Slack\nGiven I have an application named *food-ordering*\nAnd I have 3 Jenkins jobs to deploy the application, one for each environment: dev, staging and production\nAnd The Jenkins job name for deploying the app on dev is *DeployFoodOrderingDev*\nWhen I write in Slack: *@hubot deploy food-ordering on dev*\nThen the *DeployFoodOrderingDev* job will start.\n```\n\n## Benefits of solving the problem\n\nUsing a Hubot command in Slack to test, deploy, build or whatever you want to do, has the following benefits:\n\n- it will give your team the opportunity to have events logs in one place: inside a Slack channel.   \n- you will know if someone is deploying the app or if a test suite has failed,\n- you will be able to parametrized your deploy job with a given git branch, without having to click twice in Jenkins,\n- you won't have to browse trough dozens of jobs on your Jenkins instance, or to remember which job does what.\n\n## Solution ingredients\n\nYou need:\n 1. A Jenkins/Bamboo (CI tool) job to deploy your application\n 2. A communication tool, let's say Slack\n 3. A Hubot instance (the funny bot from GitHub)\n 4. Nice to have: Jenkins integrated with Slack\n\n\nYes, you can create a Slack command to trigger a Jenkins job, but I think it's easier to   \ncustomize and manage your tasks with these scripts.   \n\nIf you're reading this then you should already have 1, 2 at least, and maybe 4.   \nIf you don't, you should start with those: A CI tool, a communication channel and connect them.   \n\nTo move forward create a [Hubot](https://hubot.github.com) instance, if you don't already have one.\n\n\n## How\n\n  1. Installation\n    - Add to your Hubot repository, in `package.json` the `hubot-scripts-deploy` package or via `npm install hubot-scripts-deploy --save`\n    - Enable the script by adding `\"hubot-scripts-deploy\"` to your  `external-scripts.json` file, in your Hubot project.\n\n  2. Configuration\n    - Configure the job in Jenkins to be triggered from a script, use [Build Token Root Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Build+Token+Root+Plugin) for this.  \n    - In order to map the appropriate command with its CI job, we have to define a JSON for each script we want to use.  \n      Create a JSON file, in a directory wherever on your Hubot server's local storage, or even in the git project of your Hubot instance, with the following format:\n\n    ```json\n    {\n      \"<nameOfYourProject>\": {\n        \"<environment1>\": {\n          \"token\": \"<jenkinsJobToken>\",\n          \"jobName\": \"<theJenkinsJobName>\"\n        },\n        \"<environment2>\": {\n          \"token\": \"<jenkinsJobToken>\",\n          \"jobName\": \"<theJenkinsJobName>\"\n        }\n      }\n    }\n    ```\n\n     For a better understanding & examples, please check [data_example](data_example/) files. The [data_example/jenkins_deploy.json](data_example/jenkins_deploy.json) file  \n     describes a mapping between CI jobs and Hubot deploy commands, which are coded in the [jenkins/deploy.coffee](src/scripts/jenkins/deploy.coffee) script.  \n\n     !*Disclaimer*: The codebase and data are split for the each command type / script, to enable a better scope separation.\n\n    - Create a `config.coffee` file like [config.coffee.example](config.coffee.example) and add the needed settings:\n      - *JENKINS_URL* - the URL of your Jenkins master instance, with port and user & password (if set). Keep in mind that the URL must be    \n        accessible from the server on which you run your Hubot instance.\n      - *JENKINS_DEPLOY_DATA_FILE_PATH* - the absolute path to the JSON file created for the mapping of the deploy commands.\n      - *JENKINS_TEST_DATA_FILE_PATH* - the absolute path to the JSON file created for the mapping of the test commands.\n\n  3. Run\n    - Run your Hubot instance by setting the environment variable `HUBOT_DEPLOY_CONFIG_PATH` to match the absolute path to your `config.coffee` file.\n\n  4. Use\n\n   Now you can go in any Slack channel where Hubot is a member of, or even in a direct   message with him, and type commands like:\n\n   ```\n   @hubot deploy <nameOfYourProject> on <environment1>\n   ```\n   to start the job specified, in your the JSON file, at the *environment1* key of the *nameOfYourProject* entry.\n\n   or\n   ```\n   @hubot deploy <nameOfYourProject2> on <environment1> from staging\n   ```\n   to start the job parametrized with the *staging* git branch.  \n   ! You should configure beforehand your job to accept a *branch* parameter at build.\n\n\n### Thank you\n\nI hope you find these scripts useful. If you have a success story, update or a complaint,   \nplease create an issue and let me know. :)\n","maintainers":[{"name":"marianitadn","email":"maria.nita.dn@gmail.com"}],"time":{"modified":"2017-11-22T07:21:56.544Z","created":"2016-07-26T12:10:54.713Z","0.0.1":"2016-07-26T12:10:54.713Z","0.0.2":"2016-07-26T12:49:43.714Z","0.0.3":"2016-07-26T15:36:58.343Z","0.0.4":"2016-07-26T16:00:51.925Z","0.0.5":"2016-07-27T11:44:24.011Z","0.0.6":"2016-07-27T12:34:04.341Z","0.0.7":"2016-07-27T12:57:51.193Z","0.1.0":"2017-11-22T07:21:56.544Z"},"homepage":"https://github.com/maria/hubot-scripts-deploy#README.md","keywords":["hubot","deploy","ci"],"repository":{"type":"git","url":"git+https://github.com/maria/hubot-scripts-deploy.git"},"author":{"name":"Maria Nita"},"bugs":{"url":"https://github.com/maria/hubot-scripts-deploy/issues"},"license":"MIT","readmeFilename":"README.md","users":{"ggyax":true}}
