{"_id":"hubot-datadog-snapshot","_rev":"2-9c4f6d5c74dacd61d0627bcbf376af27","name":"hubot-datadog-snapshot","description":"Hubot script for querying Datadog graph snapshots","dist-tags":{"latest":"0.1.0"},"versions":{"0.1.0":{"name":"hubot-datadog-snapshot","version":"0.1.0","description":"Hubot script for querying Datadog graph snapshots","main":"index.coffee","scripts":{"test":"script/test"},"repository":{"type":"git","url":"git+https://github.com/gshackles/hubot-datadog-snapshot.git"},"keywords":["datadog","hubot","hubot-scripts"],"author":{"name":"Greg Shackles"},"license":"MIT","bugs":{"url":"https://github.com/gshackles/hubot-datadog-snapshot/issues"},"homepage":"https://github.com/gshackles/hubot-datadog-snapshot#readme","dependencies":{"coffee-script":"^1.10.0","dogapi":"^1.1.0"},"devDependencies":{"chai":"^3.5.0","hubot-test-helper":"^1.4.4","mocha":"^2.4.5","sinon":"^1.17.3","sinon-chai":"^2.8.0"},"gitHead":"98efdd849010d32c52c9514deeeb23b1ebfb1590","_id":"hubot-datadog-snapshot@0.1.0","_shasum":"884afa0a1fff46b82b3c7f13d69f7efa9393e24f","_from":".","_npmVersion":"3.3.12","_nodeVersion":"5.3.0","_npmUser":{"name":"gshackles","email":"greg@gregshackles.com"},"dist":{"shasum":"884afa0a1fff46b82b3c7f13d69f7efa9393e24f","tarball":"http://registry.npmjs.org/hubot-datadog-snapshot/-/hubot-datadog-snapshot-0.1.0.tgz"},"maintainers":[{"name":"gshackles","email":"greg@gregshackles.com"}],"_npmOperationalInternal":{"host":"packages-9-west.internal.npmjs.com","tmp":"tmp/hubot-datadog-snapshot-0.1.0.tgz_1455481390901_0.13895431556738913"}}},"readme":"# hubot-datadog-snapshot\n\nHubot script for querying Datadog graph snapshots\n\n## Installation\n\nFirst, in your Hubot repository run:\n\n`npm install hubot-datadog-snapshot --save`\n\nNext, add `hubot-datadog-snapshot` to your `external-scripts.json` file:\n\n```\n[\n  // ...,\n  \"hubot-datadog-snapshot\"\n]\n```\n\n## Configuration\n\nThere are a couple pieces of required configuration to get things working:\n\n- **`HUBOT_DATADOG_API_KEY`**: Your Datadog API key\n- **`HUBOT_DATADOG_APP_KEY`**: Your Datadog app key\n\nYou can set these up in your [Datadog dashboard](https://app.datadoghq.com/account/settings#api).\n\nThere is also one optional piece of configuration:\n\n- **`HUBOT_DATADOG_GRAPH_RESPONSE_DELAY`**: time to pause (in milliseconds) in between receiving a graph URL from Datadog and sending it to the room\n\nThe reason for this option is that even though Datadog will return a URL right away, often it takes a second or two for the graph to actually be available. This can result in the image not automatically loading when the message is received in something like Slack or HipChat because the request would fail. The default value for this is 2 seconds.\n\n## Example Interactions\n\n### Querying with Datadog's Query Language\n\nTo get started you can take a query from your Datadog dashboard and run it here:\n\n```\ngreg> hubot datadog query 24h avg:system.cpu.user\nhubot> https://datadog/url\n```\n\nThe time period can be defined in seconds (`s`), minutes (`m`), hours (`h`), or days (`d`). You can also omit the time period and it will default to one hour.\n\n### Saving a Query\n\nHubot will always keep track of the last query requested by each user, making it simple to save it for future use. This is done on a per-user basis so there's no need to worry about multiple users querying things at once. This is the only user-specific interaction, so all other commands (including the saved queries themselves) are globally available.\n\nTo save a query:\n\n```\ngreg> hubot datadog save that as cpu\nhubot> Shell: I saved that graph for you as `cpu`\n```\n\n### Listing Saved Queries\n\nYou can also easily pull a list of all saved queries:\n\n```\ngreg> hubot datadog list\nhubot> I have the following saved queries :sparkles:\n\ncpu\n```\n\n### Running a Saved Query\n\nYou can also use the same query syntax from earlier to run saved queries by providing the name of that query instead of the Datadog query itself:\n\n```\ngreg> hubot datadog query cpu\nhubot> https://datadog/url\n```\n\nThe time period specification is identical as well, and also defaults to one hour.\n\n```\ngreg> hubot datadog query 7d cpu\nhubot> https://datadog/url\n```\n\n### Describing a Saved Query\n\nForgot what the actual query is behind one of your saved queries? No problem!\n\n```\ngreg> hubot datadog describe cpu\nhubot> Shell: That query is defined as `avg:system.cpu.user`\n```\n\n### Deleting a Saved Query\n\nYou can quickly delete a saved query as well:\n\n```\ngreg> hubot datadog delete cpu\nhubot> Shell: I deleted the query `cpu`\n```\n\n### Shorthand\n\nFor all of these commands you have the option of using `hubot dd` instead of `hubot datadog` as a convenient shorthand to save those valuable keystrokes.","maintainers":[{"name":"gshackles","email":"greg@gregshackles.com"}],"time":{"modified":"2016-02-14T20:23:14.746Z","created":"2016-02-14T20:23:14.746Z","0.1.0":"2016-02-14T20:23:14.746Z"},"homepage":"https://github.com/gshackles/hubot-datadog-snapshot#readme","keywords":["datadog","hubot","hubot-scripts"],"repository":{"type":"git","url":"git+https://github.com/gshackles/hubot-datadog-snapshot.git"},"author":{"name":"Greg Shackles"},"bugs":{"url":"https://github.com/gshackles/hubot-datadog-snapshot/issues"},"license":"MIT","readmeFilename":"README.md"}
