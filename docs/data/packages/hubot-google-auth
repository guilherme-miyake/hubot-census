{"_id":"hubot-google-auth","_rev":"2-f85916e478c43826aa9c0e04b08a7eb2","name":"hubot-google-auth","description":"Hubot utility functions for authenticating to google apis","dist-tags":{"latest":"1.2.0"},"versions":{"1.0.0":{"name":"hubot-google-auth","version":"1.0.0","description":"Hubot functions and utility functions for authenticating to google apis","main":"index.coffee","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"coffee-script":"^1.10.0","googleapis":"^2.1.7"},"gitHead":"30168d561f32cbc554f80b85176029c018f8342d","_id":"hubot-google-auth@1.0.0","_shasum":"c957a8c7e0c8d471a48bc8e8d1ba4e56901c7a1c","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"c957a8c7e0c8d471a48bc8e8d1ba4e56901c7a1c","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.0.0.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]},"1.0.1":{"name":"hubot-google-auth","version":"1.0.1","description":"Hubot utility functions for authenticating to google apis","main":"auth.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"googleapis":"^2.1.7"},"gitHead":"c8da28eee7285b984b1b418ee63b33b7f4df5236","_id":"hubot-google-auth@1.0.1","_shasum":"46b5693cc2379962b8ed9418d1112bc5bb24cc43","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"46b5693cc2379962b8ed9418d1112bc5bb24cc43","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.0.1.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]},"1.0.2":{"name":"hubot-google-auth","version":"1.0.2","description":"Hubot utility functions for authenticating to google apis","main":"auth.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"googleapis":"^2.1.7"},"gitHead":"8ded21d89b6e202137ea9694fa970f21f7b20eef","_id":"hubot-google-auth@1.0.2","_shasum":"82ed9847f22e5fdff79d769fdf3335e40147e9db","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"82ed9847f22e5fdff79d769fdf3335e40147e9db","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.0.2.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]},"1.0.3":{"name":"hubot-google-auth","version":"1.0.3","description":"Hubot utility functions for authenticating to google apis","main":"auth.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"googleapis":"^2.1.7"},"gitHead":"892177c670ed7f8569edc2f40d0eb082f7129f93","_id":"hubot-google-auth@1.0.3","_shasum":"592dce3417a59fc7de83a8a4a3f945c46f174c35","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"592dce3417a59fc7de83a8a4a3f945c46f174c35","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.0.3.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]},"1.1.0":{"name":"hubot-google-auth","version":"1.1.0","description":"Hubot utility functions for authenticating to google apis","main":"auth.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"googleapis":"^2.1.7"},"gitHead":"6f5f01b53cf4e754c4524f38dff8e4a82a39158b","_id":"hubot-google-auth@1.1.0","_shasum":"6e28a55333e6e7a94264056a9df057a5f62850a5","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"6e28a55333e6e7a94264056a9df057a5f62850a5","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.1.0.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]},"1.2.0":{"name":"hubot-google-auth","version":"1.2.0","description":"Hubot utility functions for authenticating to google apis","main":"auth.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"keywords":["hubot","google","auth","drive","token"],"author":{"name":"Andrew Schmitt"},"license":"MIT","bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","dependencies":{"googleapis":"^2.1.7"},"gitHead":"16dae220a2c9674302787a072defb8dfd4a8ad67","_id":"hubot-google-auth@1.2.0","_shasum":"361d9941e3038d488f97a8c4673380c239a52400","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"},"dist":{"shasum":"361d9941e3038d488f97a8c4673380c239a52400","tarball":"http://registry.npmjs.org/hubot-google-auth/-/hubot-google-auth-1.2.0.tgz"},"maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}]}},"readme":"# hubot-google-auth\nHubot utility functions for authenticating to google apis\n\nCheck out an example script [here](https://github.com/aaaschmitt/hubot-googledrive-search/blob/master/src/hubot-googledrive-search.js).\n\n## Install\n```\nnpm install --save hubot-google-auth\n```\n\n## Configuration\n\nYou will need to generate a client\\_secret.json file to authenticate via google's oauth2 protocol. Instructions for doing this can be found by following **step 1** [here](https://developers.google.com/drive/v2/web/quickstart/nodejs).\n\nUsing your client\\_secret.json you can initialize the HubotGoogleAuth object like this:\n```\nHubotGoogleAuth = require 'hubot-google-auth'\n\n# Note that we need acess to the robot's brain to init the auth object\n# Scopes should be a text string of scope urls, each seperated by a semicolon (;)\n# Service name should be the google service that is being used or that you would like to share tokens between bots for\nauth = new HubotGoogoleAuth ServiceName, CLIENT_ID, CLIENT_SECRET, REDIRECT_URL, SCOPES, robot.brain\n```\n\n## Usage\nInteneded be be used by hubot scripts to perform google auth by storing api tokens in the brain relative to a certain service name that is provided.  This is useful because it allows you to require this module in several different scripts that need to use google auth and have all of these scripts use the same keys to get and set api tokens from hubots brain.\n\n## Sample script\n\nSee an extened example script [here](https://github.com/aaaschmitt/hubot-googledrive-search/blob/master/src/hubot-googledrive-search.js). Check out the package that it comes from [here](https://www.npmjs.com/package/hubot-googledrive-search).\n\n```\nCLIENT_ID = process.env.HUBOT_DRIVE_CLIENT_ID\nCLIENT_SECRET = process.env.HUBOT_DRIVE_CLIENT_SECRET\nREDIRECT_URL = process.env.HUBOT_DRIVE_REDIRECT_URL\nSCOPES = 'https://www.googleapis.com/auth/drive'\n\nHubotGoogleAuth = require 'hubot-google-auth'\n\nmodule.exports = (robot) ->\n\t\n\t# We need to initialize the auth client here because it is initialzed with the brain\n    auth = new HubotGoogleAuth \"GoogleDrive\", CLIENT_ID, CLIENT_SECRET, REDIRECT_URL, SCOPES, robot.brain\n\n    # Tokens may be null initially\n    tokens = auth.getTokens()\n\n    # Google apis are exposed via the google object\n    # See the googleapis npm package for how to use these apis\n    drive = auth.google.drive('v2')\n\n    robot.respond /show tokens/i, (msg)->\n\n    \tif !tokens.token\n    \t\tmsg.send \"No tokens found\"\n    \t\tmsg.send \"Please copy the code at this url #{auth.generateAuthUrl()}\"\n    \t\tmsg.send \"Then use the command @hubot set code <code>\"\n    \t\treturn\n\n    \tmsg.send auth.getTokens()\n\n    robot.respond /set code (.+)/i, (msg)->\n    \tcode = msg.match[1]\n\n    \t# Gets new token and refresh token and stores into brain\n    \tauth.setCode code, (err, resp)->\n    \t\tif err\n    \t\t\tmsg.send \"Could not obtain tokens with code: #{code}\"\n    \t\t\treturn\n\n    \t\tmsg.send \"Code successfully set. Tokens now stored in brain for service: #{auth.serviceName}\"\n\n    robot.respond /drive request/i, (msg)->\n\t\tdrive.files.get {fileId: 'some_id'}, (err, resp)->\n\t\t\tif err\n\t\t\t\treturn msg.send \"ERROR: could not get file: #{err}\"\n\n\t\t\tmsg.send resp.title\n```\t\n","maintainers":[{"name":"aaaschmitt","email":"aschmitt@berkeley.edu"}],"time":{"modified":"2016-01-14T21:33:09.119Z","created":"2016-01-14T07:21:17.223Z","1.0.0":"2016-01-14T07:21:17.223Z","1.0.1":"2016-01-14T07:31:15.740Z","1.0.2":"2016-01-14T07:40:32.155Z","1.0.3":"2016-01-14T07:45:16.482Z","1.1.0":"2016-01-14T21:11:42.809Z","1.2.0":"2016-01-14T21:33:09.119Z"},"homepage":"https://github.com/aaaschmitt/hubot-google-auth#readme","keywords":["hubot","google","auth","drive","token"],"repository":{"type":"git","url":"git+https://github.com/aaaschmitt/hubot-google-auth.git"},"author":{"name":"Andrew Schmitt"},"bugs":{"url":"https://github.com/aaaschmitt/hubot-google-auth/issues"},"license":"MIT","readmeFilename":"README.md"}
