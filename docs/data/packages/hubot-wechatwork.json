{"_id":"hubot-wechatwork","_rev":"1-e61e5b985e7cbebb48d5af61dcf95d98","name":"hubot-wechatwork","dist-tags":{"latest":"0.1.0"},"versions":{"0.0.1":{"name":"hubot-wechatwork","version":"0.0.1","description":"A Hubot adapater for Wechat Work (企业微信)","main":"./src/wechatwork","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot","wechat","work","企业微信","adapter"],"dependencies":{"aes-js":"^3.1.2","body-parser":"^1.18.3","body-parser-xml":"^1.1.0","config":"^3.0.0","parent-require":"^1.0.0","request":"^2.88.0","xml2js":"^0.4.19"},"peerDependencies":{"hubot":">=2.0"},"devDependencies":{"coffee-script":">=1.2.0"},"author":{"name":"billtt"},"license":"MIT","repository":{"type":"git","url":"git+https://github.com/billtt/hubot-wechatwork.git"},"gitHead":"99ca695b37a4b77e7163577d41858ce06238ce82","bugs":{"url":"https://github.com/billtt/hubot-wechatwork/issues"},"homepage":"https://github.com/billtt/hubot-wechatwork#readme","_id":"hubot-wechatwork@0.0.1","_npmVersion":"6.4.1","_nodeVersion":"8.11.3","_npmUser":{"name":"billtt","email":"billtt@gmail.com"},"dist":{"integrity":"sha512-Hsqb4CXDI22367I0ga1Y85EubnDJkpfd9xX3fD1TjpqZtLl5UvOTlyevqsZMK3weQlbBBdqGxSeVvd+HMRrhYA==","shasum":"cabf0509f28b648c86a8d5aadd835912aa74c485","tarball":"https://registry.npmjs.org/hubot-wechatwork/-/hubot-wechatwork-0.0.1.tgz","fileCount":7,"unpackedSize":12226,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcDoVnCRA9TVsSAnZWagAA6Q8P/3v9VYUKbCcZTHpbL7DY\n9sa6PBwxErWLWm5pL43mo/eUKhJdqgr4/6jCF4nT6TUogO6VDhfJeNRu3EeJ\nuQMMXgUeQuG0/Av4li7Lf0F5qpPLzccm+N46heoIv8ZEIMZBCq0/yDr60ChJ\nexVQoVY9qcABAcWjZrf0I2+ML9LHR1xB0JBQQAAv9XpLxUI4FBRKgPwZUxJH\nJKAZ1ZR4pnHyKCjt4vjbZZf0aZoFI0JDj4jiJUzAkVlo4pKDneVrW43kYAxg\n1i4TNKLn98La9K3M4k9yQtycoai862Vx6WbdTmx9JB7dNNZXo3DFeAG7zQRs\nqBFdfuH0CMPizbbar2OQmHQUBBTIBAZNdsiYNPLqqJvalduPskzap/21kZ9I\n4rf/5GrQHzxHh+79elsKbU0Op2R85AjtHRM71EPUr2VzdiSmwyFBccNvsrhh\nikoh+IQwfKOrCB+wuUOWY1pJWQQ54NvRTRHeTbcQ8zBZDj0XKdk12+ZfzXLL\nqkCz7y8xOqIgaTNrIlB8zBlA5rcad63bIfdkKt2h1Jb8ddUr2DvkovUB0IZf\nMTyWjrmcE1Me4KI/hYX+/o+5m3fies7izAU+D9rttxscNIhvSi5zyxFLjQAS\n+W5OH77gc1X0RxNiVxS5BJS2gVSQuhUv0GnNYqdgIKScAkYm9JROVB0F+udf\nWvJu\r\n=Xf2n\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"billtt","email":"billtt@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-wechatwork_0.0.1_1544455526961_0.26889193125104294"},"_hasShrinkwrap":false},"0.1.0":{"name":"hubot-wechatwork","version":"0.1.0","description":"A Hubot adapater for Wechat Work (企业微信)","main":"./src/wechatwork","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["hubot","wechat","work","企业微信","adapter"],"dependencies":{"aes-js":"^3.1.2","body-parser":"^1.18.3","body-parser-xml":"^1.1.0","config":"^3.0.0","parent-require":"^1.0.0","request":"^2.88.0","xml2js":"^0.4.19"},"peerDependencies":{"hubot":">=2.0"},"devDependencies":{"coffee-script":">=1.2.0"},"author":{"name":"billtt"},"license":"MIT","repository":{"type":"git","url":"git+https://github.com/billtt/hubot-wechatwork.git"},"gitHead":"3c20dc21822b781c605e4b4940d20e6d040b91bd","bugs":{"url":"https://github.com/billtt/hubot-wechatwork/issues"},"homepage":"https://github.com/billtt/hubot-wechatwork#readme","_id":"hubot-wechatwork@0.1.0","_npmVersion":"6.4.1","_nodeVersion":"8.11.3","_npmUser":{"name":"billtt","email":"billtt@gmail.com"},"dist":{"integrity":"sha512-QDkx7SBGfbJj0XbbVxZeLRcmAfe5RJgX1fB7KcnEBtyNXyUjTCPd4l6F+NjlVNYNrz6ZvOBLu7QqlmaBetjvdA==","shasum":"e22709de4b924f352c4712d472606ec5a1e97436","tarball":"https://registry.npmjs.org/hubot-wechatwork/-/hubot-wechatwork-0.1.0.tgz","fileCount":8,"unpackedSize":14963,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcDz05CRA9TVsSAnZWagAAJeEP/iOHAs+HcsEccnNK0yl9\nKvhAaqH/FPi2/M3sPjhjQ71HoustLE+8kvqB47C60PL4JJ3zLvyPHTW0n/N3\nBSu9a3GdiyZOHgQ3DNRq9+O3kjmip/fyg0oJ+fOpSAmeOkdEfhpqhMiUu6zC\naBkkWq4HXfh3Uh9xcnN3AfilCI1+0aGurpGj25MD32QicEJSz/yl3cdYjvK+\nq114czXOZzkWsaoVq0+ZjBBZETSzllAop9Rlyf7EdswNbj20D5LcCDUPFSDO\nevJXppoEuCOqMSrSqw4PArlP9RPgGpZN9RIQcSK2xU3iqcNrvfp4UdsOQ+8v\nyFY+gVntPcMz9nmei9SJwZRbqxGq5+rTAQc0Aonqcb6JF1EQlX+qLAp2ahUd\n3QwmOI4PPFmPbOPmUyEyGK4LThYK3xVvUBjs2y5UbSgtS2BjsrH6XJNA+VBL\nDil0MuDOzlARoJBmNoTRggQGeeIN2neNWU8Lod8mLT83NxufDNApgYE73L1X\nZ+2+wmz5zS/ESw2TdIfKEwbdk6BWCWyDrNkb8WWhxfy45Zg6LMyKSKt/hx6c\nMVp9iJ/BR5kTOp0a7nTJ6WXrlcsfTDc8qt1jddnEgcRHGd0FCZ1Ev5SZBUpd\n4OwEZdsJn/YObHWJrvv4LBxtSWAvIrNvco4UbkNC7hGMus376OU9GpUbyfEa\nAb9E\r\n=w1S2\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"billtt","email":"billtt@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hubot-wechatwork_0.1.0_1544502584462_0.4889379180227207"},"_hasShrinkwrap":false}},"time":{"created":"2018-12-10T15:25:26.960Z","0.0.1":"2018-12-10T15:25:27.088Z","modified":"2018-12-11T04:29:47.422Z","0.1.0":"2018-12-11T04:29:44.796Z"},"maintainers":[{"name":"billtt","email":"billtt@gmail.com"}],"description":"A Hubot adapater for Wechat Work (企业微信)","homepage":"https://github.com/billtt/hubot-wechatwork#readme","keywords":["hubot","wechat","work","企业微信","adapter"],"repository":{"type":"git","url":"git+https://github.com/billtt/hubot-wechatwork.git"},"author":{"name":"billtt"},"bugs":{"url":"https://github.com/billtt/hubot-wechatwork/issues"},"license":"MIT","readme":"# Hubot Adapter for Wechat Work （企业微信）\nCurrently, this adapter can:\n* Send messages to app created groups\n* Send messages to individuals\n* Receive messages from individuals\n\nIt utilizes Wechat Work's APIs of third-party apps to receive and send messages. But due to the limitations of wechat work's apps, we cannot send messages to groups except those created by said app.\n\n此插件可实现以下功能：\n* 向应用创建的群（关联了应用的群）发送消息\n* 向个人发送消息\n* 接收个人发送的消息\n\n此插件基于企业微信的第三方应用API实现消息的收发。由于目前企业微信API的限制，无法向任意群聊发送消息，而只能发送到由应用创建的群组。（向个人发消息则没有限制）\n\n## Creating App 创建应用\nBefore using this adapter, you need to create an app in your wechat work's administration page. And take a note of the following strings for future use:\n* CorpId - Your corporation ID, which can be found at the bottom of \"My Enterprise\" page\n* App Agent Id - Can be found on the app's page\n* App Secret - Can be found on the app's page\n* Encoding AES Key - This can be found in the message reception settings of the app you just created. When you first enter the settings page, you need to click \"generate\" to randomly generate the key.\n\n在使用此adapter之前，你需要在企业微信的管理后台创建一个新的自建应用（或使用已有的应用）。然后你需要获取如下信息以备用：\n* CorpId - 可以在管理后台\"我的企业\"最下面找到\n* App Agent Id - 在自建应用的管理页面可以找到\n* App Secret - 在自建应用的管理页面可以找到\n* Encoding AES Key - 在自建应用的\"接收消息\"设置中可以找到。第一次打开的时候需要设置相关参数。直接点击\"随机获取\"即可。URL的填写在后面说明\n\n## Setting Environmental Variables 设置环境变量\nYou need to set the following variables before starting your Hubot.\n在启动Hubot之前你需要设置以下的环境变量（即上面获取的参数）。\n```bash\nWECHATWORK_CORP_ID\nWECHATWORK_APP_AGENT_ID\nWECHATWORK_APP_SECRET\nWECHATWORK_AES_KEY\nPORT\n```\n\n`PORT` is the port number (8080 by default) on which the web server listens. The web server will automatically start when Hubot starts and receives messages from wechat work.\n\n其中`PORT`是Web Server监听的端口（默认8080）。Web Server用于从腾讯接收消息回调，并且在Hubot启动时自动启动。\n\n## Finishing Message Reception Settings 完成消息接收设置\nAfter setting all the required environmental variables and starting Hubot, you can finishing the message reception settings on wechat work's admin page.\n\nJust fill in the URL field on the page the URL that Tencent can reach with the suffix of `/wechatwork/webhook`. For example: `https://www.yourdomain.com/wechatwork/webhook`\n\nThen click the \"Save\" button on the page. If everything goes well, the page will prompt a success message, otherwise please check if your web server can be reached from outside.\n\n在完成了上述的环境变量设置并且启动Hubot之后，你可以继续在企业微信的管理界面完成消息接收设置。\n\n只需要在页面的URL中填入你的Web Server地址（以`/wechatwork/webhook`结尾），例如：`https://www.yourdomain.com/wechatwork/webhook`\n\n然后点击页面上的\"保存\"。如果一切顺利，会看到设置成功的消息。如果提示出错，请检查你的Web Server是否可以从外部访问。\n\n## Creating Chats 创建群聊会话\nThis project includes a utility bot which allows you to create group chats that the bot can send messages to. Once you have set up the hubot correctly as instructed above, you can just send to the bot (wechat app) the following command to create a chat:\n```\nchat create CHATID USER1,USER2,USER3,...\n```\n\nPlease note, CHATID can only be alphanumeric characters, and there must be at least two users to form a chat. You need to remember CHATID for your bots to send messages to (use as room id). You can change the group's name on Wechat Work after the group is created, which doesn't affect the CHATID.\n\n此项目自带一个bot用于创建群聊会话。用这种方式创建出来的群聊会关联你的应用，并可在之后通过Hubot向群聊中发送消息。\n当你完成了本文档前面的Hubot相关设置之后，在启动了Hubot之后，可向你的Bot（应用）发送如下命令来创建群聊会话：\n```\nchat create CHATID USER1,USER2,USER3,...\n```\n\n其中，CHATID是你的群聊ID，此ID用于之后Hubot发送消息（房间ID），所以请务必记住。USER列表为初始群聊用户名，至少需要指定两个用户。群聊创建完成后，群聊名默认为CHATID，群主可自行修改群聊名称，以及管理人员列表。CHATID不受影响。\n","readmeFilename":"README.md"}