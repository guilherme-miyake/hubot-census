{"_id":"rc-data-processor","_rev":"1-5da12117e58855904aed795348c2ef86","name":"rc-data-processor","dist-tags":{"latest":"1.1.0"},"versions":{"1.1.0":{"name":"rc-data-processor","version":"1.1.0","description":"RocketChat data processor","main":"server.js","scripts":{"test":"mocha 'test/test-utils.js'"},"author":{"name":"Ian Harvey"},"license":"LGPL-3.0","dependencies":{"hubot":"^3.1.1","hubot-doge-utility-functions":"^2.3.1","hubot-redis-brain":"^1.0.0","hubot-rocketchat":"^2.0.0","mongo-oplog":"^2.1.0","mongodb":"^3.1.4","node-cron":"^1.2.1","socket.io":"^2.1.1","socket.io-client":"^2.1.1","socketio-auth":"^0.1.1"},"devDependencies":{"chai":"^4.1.2","chai-as-promised":"^7.1.1","mocha":"^5.2.0"},"gitHead":"bfcd4515b7060900169cc2afd2d8a5a64a64970f","_id":"rc-data-processor@1.1.0","_npmVersion":"5.6.0","_nodeVersion":"8.11.4","_npmUser":{"name":"ith-harvey","email":"iharvey@comcast.net"},"dist":{"integrity":"sha512-pLsiCT/dVTn0xDjFcyNgdpt6aptiCjNjhrN8g9jDHGuG0VIvgzRrhNbh/OmD99qVUzRt9P2ymSYegU6PtDchuA==","shasum":"c373dd515ea404df90beb3d716892e79d473b610","tarball":"https://registry.npmjs.org/rc-data-processor/-/rc-data-processor-1.1.0.tgz","fileCount":11,"unpackedSize":24650,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbtpRICRA9TVsSAnZWagAATYUQAJ8AwDIH7YML6fZUqHyZ\nG4/tDeV5MozsRfovMLCrl9bUAZSt64hUAHpIUy0JvDufTs49d/XxrH98mmuz\nwomXXdtwfrqZD4cxMNaSocVrvX6VADL0WoUqHqG3MShoLxtf4uXSbR0LupIS\niJ/AIX74FgMz77O341uZBv3BnwpicZtRklf2ibp2PPAvU4Rpw4ir9lz6m62V\nN7CRBf0Y4yjTe+u/H+8iw6FOgRYTG8n/gBsb/Rq+LcLZZSdeeqHm0WCEn8pm\n/5HlHWJnvcYv6FNHGf5xIWPVYAbagZ30/j1vEQYy4p456VhRMZrcp1uwL9Ty\nSrEQGr5CJd9NLGmc0a7E3iQjOQ+9AAQq31guFuHB4VLP652bKtIJgpDRNkSM\nPPZjyWiovCg3xiUns+0Iy0GFucpxFgR9bL0ieDKt2AfcuDB6Swg1V3+lyr+A\n+16KVr0wElCpN1HWlpzKbCeHTR+DUX8GdSjc4CMQ5rfY4r+Fd6zHDHa/iDpo\n6zToxQX+p3AqjZrrUOpZuMRKM3ixQ7sq2inWuPwFdzOmLo6vZOkSmUk0KVyE\nqTAVx0E7zzSss8r/gF/ZKimLtfSDUNj8CNFF6/ulgd+AX2mh1BpkePpGafha\nbXrXJGDkSpNUeNaYCY3BeL5AwwQJnQoIWa/SSgwgsb8BGbJY0ROD4F1zovrz\nF+5+\r\n=ygXz\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"ith-harvey","email":"iharvey@comcast.net"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/rc-data-processor_1.1.0_1538692167400_0.2900555706286203"},"_hasShrinkwrap":false}},"time":{"created":"2018-10-04T22:29:27.399Z","1.1.0":"2018-10-04T22:29:27.510Z","modified":"2018-10-04T22:29:35.553Z"},"maintainers":[{"name":"ith-harvey","email":"iharvey@comcast.net"}],"description":"RocketChat data processor","author":{"name":"Ian Harvey"},"license":"LGPL-3.0","readme":"# RocketChat-data-processor\nService for processing relevant data from RocketChat database and for publishing it to interested parties\n\n## Overview\n- `RocketChat-data-processor` service alerts the infosec team and individual users about Rocket.Chat security issues as well as provides a Maker internal channel listing and joining feature.\n- The processor supports the following alerts: `2FANonCompliant`, `emailNonCompliant`, `privateRooms`, `roomJoin`.\n\n## Alert types\n\n- ##### `2FANonCompliant` alert sends two messages, one to the `infosec-alerts` channel and one to the non-compliant user. Users logging in with GitHub are not added in this alert.\nAlert message sent to `infosec` channel:\n```\nThese Maker employees are not 2FA compliant:\n@iant\n@JOEQ\n```\n\nAlert message sent to non-compliant `user`:\n```\n:x: This is a friendly reminder to activate 2FA on your Rocket.chat account. If you have any questions about how to do so please reachout to the #tech-ops channel.\n```\n\n- ##### `emailNonCompliant` alert sends two messages, one to the `infosec-alerts` channel and one to the non-compliant user. Users that are entitled with `Maker` role but without a `@makerdao.com` e-mail address are included in the alert.\nAlert message sent to `infosec` channel:\n```\nThese Maker employees are not MKR email compliant:\n@iant\n@JOEQ\n```\n\nAlert message sent to non-compliant `user`:\n```\n:x: This is a friendly reminder to use your Maker email address on your Rocket.chat account. If you have any questions about how to do so please reachout to the #tech-ops channel.\n```\n\n- ##### `privateRoom` alert sends one message to the `infosec-alerts` channel. PrivateRooms whose name ends in internal room flags (i.e. `-internal`) are sent along with the users who do not have the `Maker` role. \nAlert message sent to `infosec` channel:\n```\nThese private rooms have non-Maker employees inside of them:\n*marketingBrainstorm*\n@outsideUser\n\n*weekly-updates*\n@outsideUser\n@Cody77\n@ravachol\n\n*general-internal*\n@turtleBro\n```\n\n- ##### `roomJoin` alert sends one message to the `infosec-alerts` channel when a non-Maker user joins a Maker internal channel. \nAlert message sent to `infosec` channel:\n```\nThis private room just added a non-Maker employee:\n*marketingBrainstorm*\n@outsideUser\n```\n\n## Channel listing and joining\nMust be in a direct message conversation with the bot, and run the below commands:\n- ##### `<@BOT> channels list` lists all private rooms that end with the `-internal` flag.\n- ##### `<@BOT> channels join <ROOM NAME>` bot invites user to the specified private room.\n\n## Running service\n### Server:\n- `npm install`\n- `node server.js`\n\n### hubot bot:\n- Have to be in root folder then run `bin/hubot`\n","readmeFilename":"README.md"}
