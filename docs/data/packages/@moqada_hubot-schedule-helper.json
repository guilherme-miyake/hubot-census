{"_id":"@moqada/hubot-schedule-helper","_rev":"1-f897f4df6defc3bbc3be7eaa925abe87","name":"@moqada/hubot-schedule-helper","description":"Helper of Hubot Scripts for implementing schedule tasks","dist-tags":{"latest":"1.0.0"},"versions":{"1.0.0":{"name":"@moqada/hubot-schedule-helper","description":"Helper of Hubot Scripts for implementing schedule tasks","version":"1.0.0","author":{"name":"moqada","email":"moqada@gmail.com"},"bugs":{"url":"https://github.com/moqada/hubot-schedule-helper/issues"},"dependencies":{"cron-parser":"^1.1.0","node-schedule":"^1.0.0"},"devDependencies":{"babel-cli":"^6.5.1","babel-core":"^6.5.2","babel-eslint":"^4.1.8","babel-plugin-espower":"^2.1.1","babel-preset-es2015":"^6.5.0","chokidar-cli":"^1.2.0","clear-require":"^1.0.1","codecov.io":"^0.1.6","esdoc":"^0.4.4","eslint":"^1.10.3","eslint-config-moqada":"^10.0.0","gh-pages":"^0.9.0","isparta":"^4.0.0","mocha":"^2.4.5","npm-run-all":"^1.5.1","power-assert":"^1.2.0","sinon":"^1.17.3"},"files":["lib"],"homepage":"https://github.com/moqada/hubot-schedule-helper#readme","keywords":["cron","helper","hubot","schedule"],"license":"MIT","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/moqada/hubot-schedule-helper.git"},"scripts":{"build":"babel src --out-dir lib","codecov":"cat coverage/lcov.info | codecov","deploy":"npm-run-all doc gh-pages","doc":"esdoc -c esdoc.json","gh-pages":"gh-pages -d doc","lint":"eslint --cache {src,test}","postpublish":"npm run deploy","prebuild":"rm -rf lib","predoc":"rm -rf doc","prepublish":"git diff --exit-code && npm run --if-present build","pretest":"rm -rf coverage","test":"npm-run-all lint test:coverage","test:coverage":"babel-node $(npm bin)/isparta cover --report text --report html --report lcovonly _mocha -- test/{**/,}*spec.js","watch":"npm-run-all --parallel watch:*","watch:lint":"chokidar src test -c 'npm run -s lint'","watch:src":"babel --out-dir=lib --watch src","watch:test":"mocha --watch test/{**/,}*spec.js"},"gitHead":"cbc9173826f879082916c293cc12a68c27c2f5b0","_id":"@moqada/hubot-schedule-helper@1.0.0","_shasum":"8b532fe3d775a182ba9a3ddf3a8785be93a2d475","_from":".","_npmVersion":"3.3.12","_nodeVersion":"5.5.0","_npmUser":{"name":"moqada","email":"moqada@gmail.com"},"dist":{"shasum":"8b532fe3d775a182ba9a3ddf3a8785be93a2d475","tarball":"https://registry.npmjs.org/@moqada/hubot-schedule-helper/-/hubot-schedule-helper-1.0.0.tgz"},"maintainers":[{"name":"moqada","email":"moqada@gmail.com"}],"_npmOperationalInternal":{"host":"packages-9-west.internal.npmjs.com","tmp":"tmp/hubot-schedule-helper-1.0.0.tgz_1455387056924_0.537439757026732"},"directories":{}}},"readme":"# hubot-schedule-helper\n\n[![NPM version][npm-image]][npm-url]\n[![NPM downloads][npm-download-image]][npm-download-url]\n[![Build Status][travis-image]][travis-url]\n[![Coverage Status][codecov-image]][codecov-url]\n[![Dependency Status][daviddm-image]][daviddm-url]\n[![DevDependency Status][daviddm-dev-image]][daviddm-dev-url]\n[![License][license-image]][license-url]\n\nHelper of Hubot Scripts for implementing schedule tasks.\n\nYou can implement scheduled tasks to your hubot scripts easily.\nAnd, scheduled tasks are stored to \"Hubot brain\".\n\n\n## Installation\n\n```\nnpm install --save @moqada/hubot-schedule-helper\n```\n\n\n## Usage\n\nSee [example scripts](https://github.com/moqada/hubot-schedule-helper/blob/master/example/scripts/example.coffee).\nMore detail, see [API Document](https://moqada.github.io/hubot-schedule-helper/).\n\n```coffee\n{Scheduler, Job} = require '@moqada/hubot-schedule-helper'\n\n\n# You must define your Job class extending Job\n\nclass AwesomeJob extends Job\n\n  # You must implement exec method\n  exec: (robot) ->\n    envelope = @getEnvelope()\n    {message} = @meta\n    robot.send envelope, message\n\n\nmodule.exports = (robot) ->\n  scheduler = new Scheduler({robot, job: AwesomeJob})\n\n  # Add scheduled job (send 'hello! hello!' at every 6 o'clock)\n  robot.respond /add/i, (res) ->\n    {user} = res.message\n    meta = {message: 'hello! hello!'}\n    pattern = '* 6 * * *'  # every 6 o'clock\n    job = scheduler.createJob({pattern, user, meta})\n\n  # Cancel target job\n  robot.respond /cancel (\\d+)$/i, (res) ->\n    [id] = res.match.slice(1)\n    scheduler.cancelJob(id)\n\n  # List job\n  robot.respond /list$/i, (res) ->\n    msgs = []\n    for job of scheduler.jobs\n      msgs.push \"#{job.id}: \\\"#{job.pattern}\\\" #{job.getRoom()} #{job.meta.message}\"\n    res.send msgs.join('\\n')\n\n  # Update target job\n  robot.respond /update (\\d+) (.+)$/i, (res) ->\n    [id, message] = res.match.slice(1)\n    meta = {message}\n    scheduler.updateJob(id, meta)\n```\n\n\n## Related\n\nThis module's code is greatly inspired by [hubot-schdule](https://github.com/matsukaz/hubot-schedule).\n\n\n\n[npm-url]: https://www.npmjs.com/package/@moqada/hubot-schedule-helper\n[npm-image]: https://img.shields.io/npm/v/@moqada/hubot-schedule-helper.svg?style=flat-square\n[npm-download-url]: https://www.npmjs.com/package/@moqada/hubot-schedule-helper\n[npm-download-image]: https://img.shields.io/npm/dt/@moqada/hubot-schedule-helper.svg?style=flat-square\n[travis-url]: https://travis-ci.org/moqada/hubot-schedule-helper\n[travis-image]: https://img.shields.io/travis/moqada/hubot-schedule-helper.svg?style=flat-square\n[daviddm-url]: https://david-dm.org/moqada/hubot-schedule-helper\n[daviddm-image]: https://img.shields.io/david/moqada/hubot-schedule-helper.svg?style=flat-square\n[daviddm-dev-url]: https://david-dm.org/moqada/hubot-schedule-helper#info=devDependencies\n[daviddm-dev-image]: https://img.shields.io/david/dev/moqada/hubot-schedule-helper.svg?style=flat-square\n[codecov-url]: https://codecov.io/github/moqada/hubot-schedule-helper\n[codecov-image]: https://img.shields.io/codecov/c/github/moqada/hubot-schedule-helper.svg?style=flat-square\n[license-url]: http://opensource.org/licenses/MIT\n[license-image]: https://img.shields.io/npm/l/@moqada/hubot-schedule-helper.svg?style=flat-square\n","maintainers":[{"name":"moqada","email":"moqada@gmail.com"}],"time":{"modified":"2016-02-13T18:10:58.718Z","created":"2016-02-13T18:10:58.718Z","1.0.0":"2016-02-13T18:10:58.718Z"},"homepage":"https://github.com/moqada/hubot-schedule-helper#readme","keywords":["cron","helper","hubot","schedule"],"repository":{"type":"git","url":"git+https://github.com/moqada/hubot-schedule-helper.git"},"author":{"name":"moqada","email":"moqada@gmail.com"},"bugs":{"url":"https://github.com/moqada/hubot-schedule-helper/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}